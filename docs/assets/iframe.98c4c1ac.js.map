{"version":3,"file":"iframe.98c4c1ac.js","sources":["../../vite/modulepreload-polyfill","../../src/button/book.html?raw","../../src/decorators/assigned-elements.ts","../../src/helper/type-is.ts","../../src/helper/dom.ts","../../src/helper/helpers.ts","../../src/helper/promise-like.ts","../../src/decorators/observer.ts","../../src/decorators/query-all.ts","../../src/decorators/query.ts","../../src/custom-elements.ts","../../src/fusion-component.ts","../../src/form-associated/index.ts","../../src/merge-styles.ts","../../src/pattern/before-after.ts","../../src/button/index.ts","../../src/checkbox/book.html?raw","../../src/checkbox/index.ts","../../src/combobox/book.html?raw","../../src/list-option/index.ts","../../src/listbox/index.ts","../../src/select/index.ts","../../src/combobox/index.ts","../../src/data-grid/book.html?raw","../../src/data-grid-cell/index.ts","../../src/data-grid-row/index.ts","../../src/data-grid/index.ts","../../src/dialog/book.html?raw","../../src/dialog/index.ts","../../src/dropdown/book.html?raw","../../src/dropdown/index.ts","../../src/icon/book.html?raw","../../src/icon/index.ts","../../src/input/book.html?raw","../../src/input/index.ts","../../src/link/book.html?raw","../../src/link/index.ts","../../src/list-option/book.html?raw","../../src/listbox/book.html?raw","../../src/menu-item/book.html?raw","../../src/menu-item/index.ts","../../src/menu/book.html?raw","../../src/divider/index.ts","../../src/menu/index.ts","../../src/number-field/book.html?raw","../../src/number-field/index.ts","../../src/panel/book.html?raw","../../src/panel-header/index.ts","../../src/panel/index.ts","../../src/radio-group/book.html?raw","../../src/radio/index.ts","../../src/radio-group/index.ts","../../src/radio/book.html?raw","../../src/select/book.html?raw","../../src/tabs/book.html?raw","../../src/tab-panel/index.ts","../../src/tab/index.ts","../../src/tabs/index.ts","../../src/tooltip/book.html?raw","../../src/tooltip/index.ts","../../src/tree-item/book.html?raw","../../src/tree-item/index.ts","../../src/tree-view/book.html?raw","../../src/tree-view/index.ts","../../../../../../virtual:/@storybook/builder-vite/vite-app.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export default \"<h4>简单使用</h4>\\n<fc-button>default</fc-button>\\n\\n<fc-button disabled=\\\"false\\\">not disabled</fc-button>\\n\\n<h4>外观</h4>\\n<fc-button>default</fc-button>\\n<fc-button sharp>sharp</fc-button>\\n<fc-button outline>outline</fc-button>\\n<fc-button sharp outline>sharp outline</fc-button>\\n\\n<h4>强调级别</h4>\\n<div>\\n  <span style=\\\"display: inline-block; width: 60px\\\">正常</span>\\n  <fc-button accent=\\\"primary\\\">primary</fc-button>\\n  <fc-button accent=\\\"secondary\\\">secondary</fc-button>\\n  <fc-button accent=\\\"ghost\\\">ghost</fc-button>\\n</div>\\n\\n<div>\\n  <span style=\\\"display: inline-block; width: 60px\\\">disabled</span>\\n  <fc-button accent=\\\"primary\\\" disabled>dissabled</fc-button>\\n  <fc-button accent=\\\"secondary\\\" disabled>dissabled</fc-button>\\n  <fc-button accent=\\\"ghost\\\" disabled>disabled</fc-button>\\n</div>\\n\\n<h4>是否可选</h4>\\n<fc-button selectable>可选</fc-button>\\n<fc-button>不可选</fc-button>\\n\\n<h4>状态</h4>\\n<fc-button>default</fc-button>\\n<fc-button disabled>disabled</fc-button>\\n<fc-button selectable>selectable</fc-button>\\n<fc-button selectable selected>selected</fc-button>\\n<fc-button selectable selected disabled>selected disabled</fc-button>\\n<p><em>*</em> selectable 的 fc-button，在选中后会有一个 `select` 事件，已在 `selected` 状态更新后获取最新状态</p>\\n\\n<h4>autofocus</h4>\\n<fc-button autofocus>autofocus</fc-button>\\n\\n<h4>边框</h4>\\n<fc-button outline selectable selected>outline selected</fc-button>\\n<fc-button outline disabled>outline disabled</fc-button>\\n<fc-button outline selectable selected sharp>outline selected sharp</fc-button>\\n<fc-button outline selectable selected disabled sharp>outline selected disabled sharp</fc-button>\\n\\n<h4>size 属性</h4>\\n<fc-button outline size=\\\"xs\\\">默认(xs)</fc-button>\\n<fc-button outline size=\\\"s\\\">小(s)</fc-button>\\n<fc-button outline size=\\\"m\\\">中(m)</fc-button>\\n<fc-button outline size=\\\"l\\\">大(l)</fc-button>\\n<fc-button outline size=\\\"xl\\\">超大(xl)</fc-button>\\n<fc-button outline size=\\\"xxl\\\">超超大(xxl)</fc-button>\\n<fc-button outline size=\\\"xxxl\\\">超超超大(xxxl)</fc-button>\\n\\n<h4>value 属性</h4>\\n<fc-button outline value=\\\"a\\\">a</fc-button>\\n<fc-button outline value=\\\"b\\\">b</fc-button>\\n<fc-button outline value=\\\"c\\\">c</fc-button>\\n\\n<h4>Slot 属性</h4>\\n<fc-button outline style=\\\"width: 100px\\\"><span slot=\\\"before\\\">🚗</span><span>before</span></fc-button>\\n<fc-button outline style=\\\"width: 100px\\\"><span>after</span><span slot=\\\"after\\\">🚜</span></fc-button>\\n\\n<h4>和 form 一起使用</h4>\\n<form action=\\\"#\\\" id=\\\"form-1\\\">\\n  <input type=\\\"text\\\" name=\\\"text\\\" value=\\\"foo\\\" />\\n  <fc-button type=\\\"submit\\\" id=\\\"submit\\\">submit</fc-button>\\n  <label><input type=\\\"checkbox\\\" checked id=\\\"checkbox\\\" /> preventDefault()</label>\\n</form>\\n<fc-button type=\\\"reset\\\" id=\\\"reset-btn\\\" form=\\\"form-1\\\">reset</fc-button>\\n<script>\\n  let preventDefault = true\\n  document.querySelector('#checkbox').addEventListener('change', e => {\\n    preventDefault = e.checked\\n  })\\n\\n  setTimeout(function () {\\n    document.querySelector('#form-1').addEventListener('submit', e => {\\n      e.preventDefault()\\n      console.log('submit event')\\n    })\\n    document.querySelector('#submit').addEventListener('click', e => {\\n      if (preventDefault) {\\n        e.preventDefault()\\n        console.log('prevented submit')\\n      }\\n    })\\n    document.querySelector('#reset-btn').addEventListener('click', e => {\\n      if (preventDefault) {\\n        e.preventDefault()\\n        console.log('prevented reset')\\n      }\\n    })\\n  }, 1000)\\n</script>\\n\"","import { LitElement } from 'lit'\n\nexport const assignedElements = function <T extends Element>(\n  selector?: string,\n  filterSelector?: string,\n  options?: AssignedNodesOptions\n) {\n  return function (proto: LitElement, key: string): void {\n    const userConnectedCallback = proto.connectedCallback\n    proto.connectedCallback = function (this: LitElement) {\n      userConnectedCallback.call(this)\n\n      const getSlots = (selector?: string) => {\n        const mergedSelector = typeof selector === 'string' ? selector : 'slot:not([name])'\n        return Array.from(this.renderRoot.querySelectorAll<HTMLSlotElement>(mergedSelector) || [])\n      }\n\n      const getElements = () => {\n        return getSlots(selector).reduce((allElements, slot) => {\n          const elements = slot?.assignedElements(options)\n          const matched = (filterSelector ? elements?.filter(e => e.matches(filterSelector)) : elements) as T[]\n          return allElements.concat(matched)\n        }, [] as T[])\n      }\n\n      const observer = () => {\n        Reflect.set(this, key, getElements())\n\n        // getSlots(selector).forEach(slot => {\n        //   slot.addEventListener('slotchange', e => {\n        //     Reflect.set(this, key, getElements())\n        //   })\n        // })\n      }\n\n      this.updateComplete.then(observer)\n    }\n  }\n}\n","const toString = (s: unknown) => Object.prototype.toString.call(s).slice(8, -1)\n\nexport const isString = (s: unknown): s is string => toString(s) === 'String'\nexport const isBoolean = (s: unknown): s is boolean => toString(s) === 'Boolean'\nexport const isArray = (s: unknown): s is Array<unknown> => Array.isArray(s) || toString(s) === 'Array'\nexport const isNumber = (s: unknown): s is number => toString(s) === 'Number'\nexport const isObject = (s: unknown): s is Record<PropertyKey, any> => toString(s) === 'Object'\nexport const isUndefined = (s: unknown): s is undefined => toString(s) === 'Undefined'\nexport const isNull = (s: unknown): s is null => toString(s) === 'Null'\nexport const isSymbol = (s: unknown): s is symbol => typeof s === 'symbol'\nexport const isFunction = (s: unknown): boolean => typeof s === 'function'\n","import FusionComponent from '../fusion-component'\n\nexport const isHTMLElement = (e: unknown): e is HTMLElement => e instanceof HTMLElement\n\nconst emptyNodeNames = [\n  'fc-divider',\n  'area',\n  'base',\n  'br',\n  'col',\n  'embed',\n  'hr',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr',\n]\n\nexport const isEmptyElement = (e: unknown): boolean =>\n  isHTMLElement(e) && emptyNodeNames.includes(e.nodeName.toLowerCase())\n\nexport const isHiddenElement = (e: unknown): boolean => {\n  if (isHTMLElement(e)) {\n    return !document.contains(e) || e.hasAttribute('hidden') || e.hasAttribute('aria-hidden')\n  }\n  return false\n}\n\nconst isDisabled = (e: HTMLElement): boolean => e.hasAttribute('disabled')\n\nexport const tabbableElement = (e: unknown): e is HTMLElement =>\n  isHTMLElement(e) && !isDisabled(e) && (nativeFocuseable(e) || e.hasAttribute('tabindex')) && !isHiddenElement(e)\n\nexport const nativeFocuseable = (e: Element): boolean =>\n  ['input', 'textarea', 'button', 'select'].includes(e.nodeName.toLowerCase()) && isHTMLElement(e) && !isDisabled(e)\n\nexport const customFocuseable = (e: Element): e is HTMLElement =>\n  isHTMLElement(e) && !isDisabled(e) && e.hasAttribute('tabindex') && !isHiddenElement(e)\n\nexport const focusable = (e: Element): e is HTMLElement =>\n  isHTMLElement(e) && (nativeFocuseable(e) || customFocuseable(e))\n\nconst mod = (n: number, length: number): number => (n + length) % length\nconst _isFocused = (e: Element) => e === document.activeElement\nconst _isFirstIndex = (e: Element) => e === document.activeElement || e.getAttribute('tabindex') === '0'\nexport const toggleTabIndex = <T extends HTMLElement = HTMLElement>(\n  elements: T[],\n  delta: number,\n  loop: boolean,\n  isFirstIndex = _isFirstIndex\n): T | undefined => {\n  const { length } = elements\n  const { activeElement } = document\n  let idx = elements.findIndex(isFirstIndex)\n  const nextIdx = idx + delta\n  idx = loop ? mod(nextIdx, length) : nextIdx\n\n  elements.forEach(e => (e.tabIndex = -1))\n  while (elements[idx]) {\n    const target = elements[idx]\n    if (focusable(target) && activeElement !== target) {\n      target.tabIndex = 0\n      return target\n    }\n\n    const nextIdx = idx + delta\n    if (nextIdx === idx) return target\n    idx = loop ? mod(nextIdx, length) : nextIdx\n  }\n}\n\nexport const focusFirstOrNext = <T extends HTMLElement = HTMLElement>(\n  elements: T[],\n  delta: number,\n  loop = true,\n  preventScroll = false,\n  isFirstIndex = _isFirstIndex\n): T | undefined => {\n  const target = toggleTabIndex(elements, delta, loop, isFirstIndex)\n  target?.focus({ preventScroll })\n  return target\n}\n\nexport const getFirstFocusableElement = (elements: HTMLElement[]) => {\n  for (let i = 0; i < elements.length; ++i) {\n    const el = elements[i]\n    if (focusable(el)) {\n      return el\n    }\n  }\n}\n\nexport const getNextFocusableElement = <T extends HTMLElement = HTMLElement>(\n  elements: T[],\n  delta: number,\n  loop = true\n): T | undefined => {\n  const currentIndex = elements.findIndex(_isFocused)\n  const { activeElement } = document\n  const { length } = elements\n\n  const nextIdx = currentIndex + delta\n  let idx = loop ? mod(nextIdx, length) : nextIdx\n\n  while (elements[idx]) {\n    const target = elements[idx]\n    if (focusable(target) && activeElement !== target) {\n      return target\n    }\n\n    const nextIdx = idx + delta\n    if (nextIdx === idx) return target\n    idx = loop ? mod(nextIdx, length) : nextIdx\n  }\n}\n\nfunction onEvent<K extends keyof HTMLElementEventMap>(\n  target: FusionComponent,\n  type: K,\n  listener: (ev: HTMLElementEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n): void\nfunction onEvent(\n  target: FusionComponent,\n  type: string,\n  listener: EventListenerOrEventListenerObject,\n  options?: boolean | AddEventListenerOptions\n): void\nfunction onEvent<K extends keyof HTMLElementEventMap>(\n  target: FusionComponent,\n  type: string | K,\n  listener: EventListenerOrEventListenerObject | ((ev: HTMLElementEventMap[K] | Event) => any),\n  options?: boolean | AddEventListenerOptions\n): void {\n  target.addEventListener(type, listener, options)\n\n  target.addEventListener(\n    'disconnected',\n    () => {\n      target.removeEventListener(type, listener, options)\n    },\n    { once: true }\n  )\n}\n\nexport { onEvent }\n","import { isEmptyElement, tabbableElement } from './dom'\nimport { isArray, isFunction, isSymbol } from './type-is'\n\nconst trim = (s: string) => s.trim()\nexport const parseParams = (paramsString: string, split = ';', equal = ':'): Record<string, string> => {\n  return paramsString.split(split).reduce((params, item) => {\n    const [key, value] = item.split(equal).map(trim)\n    if (key !== '') {\n      params[key] = value\n    }\n    return params\n  }, {} as Record<string, string>)\n}\n\nexport const joinParams = (params: Record<string, string | number>, split = ';', equal = ':'): string => {\n  return Object.entries(params)\n    .map(([key, value]) => [key, value].join(equal))\n    .join(split)\n}\n\nexport const setCSSText = (element: HTMLElement, overwrite: Record<string, string | number>): void => {\n  element.style.cssText = joinParams({ ...parseParams(element.style.cssText), ...overwrite })\n}\n\nexport const removeCSSText = (element: HTMLElement, key: string): void => {\n  const style = parseParams(element.style.cssText)\n  delete style[key]\n  element.style.cssText = joinParams(style)\n}\n\nexport const setTopIndex = <T extends HTMLElement>(items: T[], force = true): HTMLElement | undefined => {\n  let idx = items.findIndex(t => t.tabIndex === 0)\n  const current = items[idx]\n  if (!force && current) {\n    return current\n  }\n\n  items.forEach(b => b.setAttribute('tabindex', '-1'))\n  idx = 0\n  while (items[idx]) {\n    const target = items[idx]\n    if (tabbableElement(target) && !isEmptyElement(target)) {\n      target.tabIndex = 0\n      return target\n    }\n\n    idx += 1\n  }\n}\n\nexport const shallowDiff = <T = unknown>(a: T, b: T): boolean => {\n  if (isArray(a) && isArray(b)) {\n    return a.length !== b.length || a.some(ae => b.indexOf(ae) === -1)\n  }\n\n  // if (isObject(a) && isObject(b)) {\n  //   const aKeys = Object.keys(a)\n  //   const bKeys = Object.keys(b)\n  //   const diff = (key: string) =>\n  //     !shallowEqual((a as Record<PropertyKey, any>)[key], (b as Record<PropertyKey, any>)[key])\n  //   return shallowEqual(aKeys, bKeys) && !aKeys.some(diff)\n  // }\n  return a !== b\n}\n\nexport const propKey2Str = (key: PropertyKey): string => {\n  if (isSymbol(key)) {\n    return key.toString().slice(7, -1)\n  } else {\n    return key.toString()\n  }\n}\n\nexport const getCallback = (o: any, key: PropertyKey) => {\n  let callbackName: PropertyKey\n  if (isSymbol(key)) {\n    callbackName = Symbol(key.toString().slice(7, -1) + 'Changed')\n  } else {\n    callbackName = `${key.toString()}Changed`\n  }\n\n  const callback = Reflect.get(o, callbackName)\n  if (isFunction(callback)) {\n    return callback\n  }\n}\n\nexport const clamp = (min: number, max: number, num: number): number => Math.min(max, Math.max(min, num))\n\nexport const delay = (wait = 100): Promise<boolean> => {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(true), wait)\n  })\n}\n","export function PromiseLike(callback?: (...args: unknown[]) => void): {\n  then(nextCallback?: ((...args: unknown[]) => void) | undefined): void\n} {\n  const result = callback?.()\n\n  return {\n    then(nextCallback?: (...args: unknown[]) => void) {\n      nextCallback?.(result)\n    },\n  }\n}\nPromiseLike.resolve = PromiseLike\n","import { LitElement } from 'lit'\nimport { getCallback, PromiseLike, propKey2Str } from '../helper'\n\nexport type TypeCotr = { new (...args: any[]): any }\nexport type ObserverType =\n  | 'bigint'\n  | 'symbol'\n  | 'function'\n  | 'string'\n  | 'number'\n  | 'boolean'\n  | 'object'\n  | 'array'\n  | 'undefined'\n  | 'any'\nexport type ObserverValue = string | number | boolean | null\nexport type DefaultConverter<V = any> = (v: V | number | string | boolean | null) => any\n\nexport type Converter<V = HTMLElement, T = any> = (v: V | number | string | boolean | null, host: T) => any\n\nexport type InitFunction<T = any, V = any> = (host: T) => V | null\n\nexport type RawObserverOptions<T, V> = {\n  /**\n   * 属性的类型，如果省略则从初始值获取，否则默认为 string\n   * type 关系到 converter\n   */\n  type?: ObserverType\n  /**\n   * 装饰属性的值将反射回 attribute\n   */\n  reflect?: boolean\n  /**\n   * 是否关联 attriubte\n   * 如果是的话，可以从 attribute 获取初始化值，也可以反射到 attribute\n   * @type {[type]}\n   */\n  attribute?: string | boolean\n  /**\n   * 转换函数，在 xxxChanged 和反射之前可对值做处理\n   */\n  converter?: Converter<V, T>\n  /**\n   * 是否同步调用 xxxChanged 和反射函数\n   */\n  sync?: boolean\n  /**\n   * 初始化函数，返回值将做为初始值\n   */\n  init?: boolean | InitFunction<T, V>\n  /**\n   * 在装饰对象上注入 `tempKey` 做为 setter/getter 的中介\n   */\n  tempKey?: string | boolean\n\n  hasChanged?: (oldValue: V, nextValue: V, host: T) => boolean\n\n  /**\n   * 执行初始化的回调\n   */\n  initCallback?: boolean\n}\n\nexport type ObserverOptions<T, V = unknown> = RawObserverOptions<T, V> & { propKey: string | number }\n\nexport const getTempKey = (key: PropertyKey, customKey?: boolean | string): string =>\n  typeof customKey === 'string' ? customKey : `_.${key.toString()}`\n\nconst isNil = (v: unknown) => v === undefined || v === null\n\nexport const attr2Bol = (attribute: boolean | number | string | null) => {\n  if (attribute === false || attribute === null || attribute === undefined || attribute === 'false') {\n    return false\n  }\n  return true\n}\n\nexport const typeCotrMap: Record<string, DefaultConverter<any>> = {\n  string: (v: unknown) => {\n    if (isNil(v)) return ''\n    return String(v)\n  },\n  number: Number,\n  boolean: (v: boolean | undefined | null | string) => {\n    if (v === false || v === null || v === undefined || v === 'false') {\n      return false\n    }\n    return true\n  },\n  any: (t: unknown) => t,\n}\n\nexport const getConverter = <T extends HTMLElement, V = ObserverValue>(\n  host: T,\n  name: PropertyKey,\n  type?: string\n): DefaultConverter<V> | undefined => {\n  const typeofValue = type ?? typeof Reflect.get(host, name)\n  return typeCotrMap[typeofValue] as DefaultConverter<V>\n}\n\nexport const reflectAttribute = (\n  host: HTMLElement,\n  attributeName: string,\n  value: ObserverValue,\n  isBol: boolean\n): void => {\n  if (isBol) {\n    host.toggleAttribute(attributeName, attr2Bol(value))\n  } else if (isNil(value) || value === '') {\n    host.removeAttribute(attributeName)\n  } else {\n    host.setAttribute(attributeName, String(value))\n  }\n}\n\nexport const getValueFromAttribute = (\n  host: HTMLElement,\n  attributeName: string,\n  isBol: boolean\n): boolean | string | null => {\n  if (!isBol) return host.getAttribute(attributeName)\n\n  const value = host.getAttribute(attributeName)\n  if (value === null) return false\n  if (value === 'true') return true\n  if (value === 'false') return false\n  return host.hasAttribute(attributeName)\n}\n\nconst beChanged = (old: any, next: any, host: any) => {\n  return true\n}\n\nexport const ignoreInitChanged = (old: any, next: any) => {\n  return old !== undefined\n}\n\nexport type ObservedProperties<T extends HTMLElement, V = any> = Map<PropertyKey, ObserverOptions<T, V>>\n\nexport const observedPropsKey = 'observedProperties'\n\nexport const observer = function <T extends LitElement, V = any>(options?: RawObserverOptions<T, V>) {\n  const { reflect = false, attribute = true, init = true, initCallback = false, hasChanged = beChanged } = options || {}\n  return function (proto: T, key: string): void {\n    const ctor = proto.constructor\n\n    let observedProps = Reflect.get(ctor, observedPropsKey, ctor)\n    if (!Object.prototype.hasOwnProperty.call(ctor, observedPropsKey)) {\n      // 父级属性\n      const superObservedProps = Reflect.get(proto.constructor, observedPropsKey, ctor) as\n        | Map<PropertyKey, ObserverOptions<T, V>>\n        | undefined\n      if (superObservedProps) {\n        observedProps = new Map<PropertyKey, ObserverOptions<T, V>>(superObservedProps)\n      } else {\n        observedProps = new Map<PropertyKey, ObserverOptions<T, V>>()\n      }\n\n      Reflect.set(ctor, observedPropsKey, observedProps)\n    }\n\n    observedProps.set(key.toLowerCase(), {\n      ...options,\n      propKey: key,\n      reflect,\n      attribute,\n      init,\n      initCallback,\n    })\n  }\n}\n\nexport function observeProp(this: any, observedProps: Map<string, ObserverOptions<any, any>>, prop: string): void {\n  const option = observedProps.get(prop)\n  if (!option) return\n  const { propKey, attribute, reflect, converter, tempKey: userTempKey, sync, hasChanged, initCallback } = option ?? {}\n  if (!propKey) return\n  const attrName = propKey2Str(propKey)\n  const mergedAttrName = typeof attribute === 'string' ? attribute : attrName\n  const tempKey = userTempKey ? getTempKey(propKey, userTempKey) : ''\n  let tempValue: any\n  let inited = false\n  let callback: (old: any, next: any) => void\n\n  /**\n   * 劫持监听属性的 setter/getter，触发 `${key}Changed` 回调\n   */\n  Object.defineProperty(this, propKey, {\n    configurable: true,\n    get(this: any) {\n      return userTempKey ? Reflect.get(this, tempKey) : tempValue\n    },\n    set(this: any, nextValue: ObserverValue) {\n      const oldValue = Reflect.get(this, propKey)\n      const typeofValue = option.type ?? typeof oldValue\n      const isBol = typeofValue === 'boolean'\n      const mergedConverter = converter ?? getConverter(this, propKey, typeofValue)\n      const mergedNextValue = mergedConverter ? mergedConverter(nextValue, this) : nextValue\n\n      if (oldValue !== mergedNextValue) {\n        tempValue = mergedNextValue\n        if (userTempKey) {\n          Reflect.set(this, tempKey, mergedNextValue)\n        }\n\n        if (!option.type && oldValue) {\n          option.type = typeofValue // 记住 type\n        }\n\n        if (hasChanged?.(oldValue, mergedNextValue, this) === false) {\n          return\n        }\n\n        const promise = sync && this.isConnected ? PromiseLike() : this.updateComplete\n\n        promise.then(() => {\n          // update 之前可能在其它地方更新过当前值，所以求最新的值\n          const currentValue = Reflect.get(this, propKey)\n          if (currentValue !== mergedNextValue) {\n            return\n          }\n\n          // 初始化前，html 标签自带的 attribute 不能被覆盖\n          const shouldReflect = !(oldValue === undefined && this.hasAttribute(mergedAttrName))\n          if (reflect && shouldReflect) {\n            reflectAttribute(this, mergedAttrName, currentValue, isBol)\n          }\n\n          const cb = getCallback(this, propKey)\n          if (!callback && typeof cb === 'function') {\n            callback = cb\n          }\n          const shouldCallback = inited || initCallback || !attribute || oldValue !== undefined\n          if (shouldCallback && typeof callback === 'function') {\n            callback.call(this, oldValue, currentValue)\n          }\n\n          if (!inited) {\n            inited = true\n          }\n        })\n\n        // update\n        this.requestUpdate(propKey, oldValue, { attribute: mergedAttrName, noAccessor: true })\n      }\n    },\n  })\n}\n","import { LitElement, PropertyValues } from 'lit'\n\nexport const queryAll = function <T extends Element>(selector?: string) {\n  return function (proto: LitElement, key: string): void {\n    const willUpdate = proto.willUpdate\n    proto.willUpdate = function (this: LitElement, props: PropertyValues) {\n      willUpdate.call(this, props)\n      if (selector) {\n        Reflect.set(this, key, Array.from(this.querySelectorAll<T>(selector)))\n      }\n    }\n  }\n}\n","import { LitElement, PropertyValues } from 'lit'\nimport { getCallback, shallowDiff } from '../helper'\n\nexport const query = function <T extends Element>(selector?: string, renderRoot = false) {\n  return function (proto: LitElement, key: string): void {\n    const willUpdate = proto.willUpdate\n    proto.willUpdate = function (this: LitElement, props: PropertyValues) {\n      willUpdate.call(this, props)\n      if (selector) {\n        const update = () => {\n          const ctx = renderRoot ? this.renderRoot : this\n          const nextValue = ctx.querySelector<T>(selector)\n          const oldValue = Reflect.get(this, key)\n          Reflect.set(this, key, nextValue)\n          if (shallowDiff(oldValue, nextValue)) {\n            getCallback(this, key)?.call(this, oldValue, nextValue)\n          }\n        }\n        if (renderRoot) {\n          this.updateComplete.then(update)\n        } else {\n          update()\n        }\n      }\n    }\n  }\n}\n","type Newable = {\n  new (...args: unknown[]): unknown\n}\n\nconst define = Reflect.get(customElements, 'define')\n\nObject.defineProperty(customElements, 'define', {\n  value: function (name: string, constructor: Newable, options?: { extends?: HTMLElement }) {\n    if (customElements.get(name)) {\n      console.warn(`re-define customElement: ${name}`)\n      return\n    }\n\n    Reflect.apply(define, this, [name, constructor, options])\n  },\n})\n","import { html, LitElement, TemplateResult } from 'lit'\nimport './custom-elements'\nimport {\n  attr2Bol,\n  getConverter,\n  getValueFromAttribute,\n  ObservedProperties,\n  observedPropsKey,\n  observeProp,\n  observer,\n  ObserverOptions,\n} from './decorators'\nimport { propKey2Str } from './helper'\n\nconst boolAriaAttrNameList = [\n  'selected',\n  'hidden',\n  'disabled',\n  'readonly',\n  'readOnly',\n  'expanded',\n  'checked',\n  'required',\n]\n\nabstract class FusionComponent extends LitElement {\n  static [observedPropsKey]?: Map<PropertyKey, ObserverOptions<ThisType<FusionComponent>, any>>\n  constructor() {\n    super()\n\n    const observedProps = Reflect.get(this.constructor, observedPropsKey) as\n      | Map<string, ObserverOptions<this, any>>\n      | undefined\n    if (!observedProps) return\n    const observer = observeProp.bind(this, observedProps)\n    // 属性监听+反射逻辑\n    Array.from(observedProps.keys()).forEach(observer)\n  }\n\n  public get control(): HTMLElement | null | undefined {\n    return this.shadowRoot?.querySelector('.control')\n  }\n\n  static get observedAttributes(): string[] {\n    const superAttrs = super.observedAttributes\n    // 包括继承的父对象监听的属性\n    const ctorProps = Reflect.get(this, observedPropsKey)\n    if (ctorProps) {\n      return superAttrs.concat([...ctorProps.keys()])\n    }\n    return superAttrs\n  }\n\n  attributeChangedCallback(name: string, old: string | null, next: string | null): void {\n    // super.attributeChangedCallback(name, old, next)\n    const ctor = this.constructor\n    const observedProps = Reflect.get(ctor, observedPropsKey)\n    const rawOption = observedProps?.get(name) as ObserverOptions<this, any>\n\n    // 从 attribute 映射到 property\n    if (rawOption) {\n      const { propKey, type, converter } = rawOption\n      const typeofValue = type ?? typeof Reflect.get(this, propKey)\n      const isBol = typeofValue === 'boolean'\n      const nextValue = isBol ? attr2Bol(next) : next\n      const mergedConverter = converter ?? getConverter(this, name, type)\n      // 这里不能用 `??` 运算符，因为 mergedConverter 可能返回 `undefined`\n      const mergedNextValue = mergedConverter ? mergedConverter(nextValue, this) : nextValue\n\n      const oldValue = Reflect.get(this, propKey)\n      if (oldValue !== mergedNextValue) {\n        Reflect.set(this, propKey, mergedNextValue)\n      } else if (nextValue === false && next !== null) {\n        this.removeAttribute(name)\n      }\n\n      if (boolAriaAttrNameList.includes(name)) {\n        this.setAttribute(`aria-${name}`, mergedNextValue.toString())\n      }\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.dispatchEvent(new CustomEvent('connected', { composed: true, bubbles: false, cancelable: false }))\n\n    const observedProps = Reflect.get(this.constructor, observedPropsKey) as ObservedProperties<this, any> | undefined\n    if (!observedProps) {\n      return\n    }\n\n    Array.from(observedProps.keys()).forEach(prop => {\n      const option = observedProps.get(prop)\n      if (!option) return\n      const { propKey, init, attribute, type, converter } = option ?? {}\n      if (!propKey) return\n      const attrName = propKey2Str(propKey)\n      const mergedAttrName = typeof attribute === 'string' ? attribute : attrName\n\n      /**\n       * 初始赋值逻辑\n       */\n      if (typeof init === 'function') {\n        Reflect.set(this, propKey, init(this))\n      } else if (attribute && this.hasAttribute(attrName)) {\n        const typeofValue = type ?? typeof Reflect.get(this, propKey)\n        const isBol = typeofValue === 'boolean'\n        const nextValue = getValueFromAttribute(this, mergedAttrName, isBol)\n        const mergedConverter = converter ?? getConverter<this, any>(this, propKey, type)\n        const mergedNextValue = mergedConverter ? mergedConverter(nextValue, this) : nextValue\n        Reflect.set(this, propKey, mergedNextValue)\n      }\n    })\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    this.dispatchEvent(new CustomEvent('disconnected', { composed: true, bubbles: false, cancelable: false }))\n  }\n\n  get slotElements(): Record<string, HTMLSlotElement> {\n    const map = {} as Record<string, HTMLSlotElement>\n    this.renderRoot.querySelectorAll('slot').forEach(item => {\n      map[item.name || 'default'] = item\n    })\n    return map\n  }\n\n  get slottedElements(): Element[] {\n    const slot = this.shadowRoot?.querySelector('slot:not([name])')\n    if (slot instanceof HTMLSlotElement) {\n      return slot.assignedElements() as Element[]\n    }\n    return []\n  }\n\n  @observer({ type: 'string' })\n  private classname?: string\n  classnameChanged(old: string, next: string): void {\n    if (next) {\n      console.warn('should use class instead of className')\n      this.setAttribute('class', next)\n      // react className property\n      this.removeAttribute('className')\n    }\n  }\n\n  @observer({ reflect: true })\n  size: '' | 'xs' | 's' | 'm' | 'l' | 'xl' | 'xxl' | 'xxxl' = ''\n\n  @observer({ type: 'boolean' })\n  sharp = false\n\n  $emit<T = unknown>(type: string, init?: CustomEventInit<T>): void {\n    type CustomEventWithSimulate = CustomEvent<T> & { simulated: boolean; value: any; _valueTracker?: any }\n    const eventInit = {\n      bubbles: true,\n      composed: true,\n      cancelable: false,\n      ...init,\n    }\n\n    const event = new CustomEvent<T>(type, eventInit) as CustomEventWithSimulate\n    // simulate React onChange\n    if (type === 'change') {\n      event.simulated = true\n      const tracker = Reflect.get(this, '_valueTracker')\n      const lastValue = Reflect.get(this, 'value')\n      event.value = Symbol('nextValue')\n      if (tracker) {\n        tracker.setValue(lastValue)\n      }\n\n      const { nodeName } = this\n      const type = Reflect.get(this, 'type')\n      let bypassNodeName: string | undefined = ['radio', 'checkbox'].includes(type) ? 'input' : 'select'\n      if (this.nodeName !== 'input' && this.nodeName !== 'select') {\n        Object.defineProperty(this, 'nodeName', {\n          configurable: true,\n          get() {\n            return bypassNodeName ?? nodeName\n          },\n        })\n      }\n      this.dispatchEvent(event)\n      bypassNodeName = undefined\n    } else {\n      this.dispatchEvent(event)\n    }\n  }\n\n  emit<T = unknown>(type: string, detail?: T): void {\n    this.$emit(type, { detail })\n  }\n\n  render(): TemplateResult {\n    return html``\n  }\n}\n\nexport const FC = FusionComponent\n\nexport default FusionComponent\n","import { observer } from '../decorators'\nimport { FC } from '../fusion-component'\n\n// copy from fast-element\n\n/**\n * This file enables typing support for ElementInternals APIs.\n * It is largely taken from https://github.com/microsoft/TSJS-lib-generator/pull/818/files.\n *\n * When TypeScript adds support for these APIs we can delete this file.\n */\n\ninterface ValidityStateFlags {\n  badInput?: boolean\n  customError?: boolean\n  patternMismatch?: boolean\n  rangeOverflow?: boolean\n  rangeUnderflow?: boolean\n  stepMismatch?: boolean\n  tooLong?: boolean\n  tooShort?: boolean\n  typeMismatch?: boolean\n  valueMissing?: boolean\n}\n\ntype FormValue = File | string | FormData | null\n\ntype Maybe<T> = T | undefined | null\n\n/**\n * Source:\n * https://html.spec.whatwg.org/multipage/custom-elements.html#elementinternals\n */\ninterface ElementInternals {\n  /**\n   * Returns the form owner of internals target element.\n   */\n  readonly form: HTMLFormElement | null\n  /**\n   * Returns a NodeList of all the label elements that internals target element is associated with.\n   */\n  readonly labels: NodeList\n  /**\n   * Returns the error message that would be shown to the user if internals target element was to be checked for validity.\n   */\n  readonly validationMessage: string\n  /**\n   * Returns the ValidityState object for internals target element.\n   */\n  readonly validity: ValidityState\n  /**\n   * Returns true if internals target element will be validated when the form is submitted; false otherwise.\n   */\n  readonly willValidate: boolean\n  /**\n   * Returns true if internals target element has no validity problems; false otherwise. Fires an invalid event at the element in the latter case.\n   */\n  checkValidity(): boolean\n  /**\n   * Returns true if internals target element has no validity problems; otherwise,\n   * returns false, fires an invalid event at the element, and (if the event isn't canceled) reports the problem to the user.\n   */\n  reportValidity(): boolean\n  /**\n   * Sets both the state and submission value of internals target element to value.\n   *\n   * While \"null\" isn't enumerated as a argument type (here)[https://html.spec.whatwg.org/multipage/custom-elements.html#the-elementinternals-interface],\n   * In practice it appears to remove the value from the form data on submission. Adding it as a valid type here\n   * becuase that capability is required for checkbox and radio types\n   */\n  setFormValue(value: FormValue, state?: FormValue): void\n  /**\n   * Marks internals target element as suffering from the constraints indicated by the flags argument,\n   * and sets the element's validation message to message.\n   * If anchor is specified, the user agent might use\n   * it to indicate problems with the constraints of internals target\n   * element when the form owner is validated interactively or reportValidity() is called.\n   */\n  setValidity(flags: ValidityStateFlags, message?: string, anchor?: HTMLElement): void\n}\n\ntype ProxyElements = HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n\ndeclare global {\n  interface Window {\n    ElementInternals: ElementInternals & { prototype: Record<PropertyKey, unknown> }\n  }\n}\n\nexport const proxySlotName = 'form-associated-proxy'\nexport const supportsElementInternals =\n  'ElementInternals' in window && 'setFormValue' in window.ElementInternals.prototype\n\nexport default class FormAssociated extends FC {\n  static get formAssociated(): boolean {\n    return supportsElementInternals\n  }\n\n  proxy: ProxyElements\n  elementInternals?: ElementInternals\n\n  public get InternalOrProxy(): ElementInternals | ProxyElements {\n    return supportsElementInternals && this.elementInternals ? this.elementInternals : this.proxy\n  }\n\n  constructor(proxy: ProxyElements) {\n    super()\n\n    this.initialValue = this.value || ''\n    this.required = false\n\n    this.proxy = proxy || document.createElement('input')\n    if (Reflect.has(this, 'attachInternals')) {\n      this.elementInternals = (this as any).attachInternals()\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.addEventListener('keydown', this._handleKeydown)\n    this.form?.addEventListener('reset', this.handleFormReset)\n    this.initialValue = this.value || this.getAttribute('value') || this.initialValue\n\n    if (!supportsElementInternals && this.proxy) {\n      this.attachProxy()\n    }\n    this.proxy.addEventListener('invalid', this.handleProxyInvalid)\n    this.proxy.addEventListener('change', this.handleProxyChange)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    this.removeEventListener('keydown', this._handleKeydown)\n    this.form?.removeEventListener('reset', this.handleFormReset)\n    if (!this.proxy) {\n      this.detachProxy()\n    }\n    this.proxy.removeEventListener('invalid', this.handleProxyInvalid)\n    this.proxy.removeEventListener('change', this.handleProxyChange)\n\n    this.value = undefined\n  }\n\n  initialValue: FormValue = ''\n\n  dirtyValue = false\n\n  proxySlot?: HTMLSlotElement | null\n\n  private proxyInitialized = false\n\n  proxyEventsToBlock = ['change', 'click']\n\n  #stopPropagation = (e: Event) => {\n    e.stopPropagation()\n  }\n\n  /**\n   * Attach the proxy element to the DOM\n   */\n  public attachProxy(): void {\n    if (!this.proxyInitialized) {\n      this.proxyInitialized = true\n      // display: none; 不能获取焦点，也不能显示校验信息\n      this.proxy.style.cssText = 'position: absolute; margin: 0; z-index: -1; opacity: 0; pointer-events: none;'\n      this.proxyEventsToBlock.forEach(name => this.proxy.addEventListener(name, this.#stopPropagation))\n\n      // These are typically mapped to the proxy during\n      // property change callbacks, but during initialization\n      // on the initial call of the callback, the proxy is\n      // still undefined. We should find a better way to address this.\n      this.proxy.disabled = this.disabled\n      this.proxy.required = this.required\n      if (typeof this.name === 'string') {\n        this.proxy.name = this.name\n      }\n\n      if (typeof this.value === 'string') {\n        this.proxy.value = this.value\n      }\n\n      this.proxy.setAttribute('slot', proxySlotName)\n      this.appendChild(this.proxy)\n\n      this.updateComplete.then(() => {\n        const proxySlot = this.renderRoot.querySelector<HTMLSlotElement>(`slot[${proxySlotName}]`)\n        if (proxySlot) {\n          this.proxySlot = proxySlot\n        } else {\n          this.proxySlot = document.createElement('slot')\n          this.proxySlot.setAttribute('name', proxySlotName)\n\n          this.shadowRoot?.appendChild(this.proxySlot as HTMLSlotElement)\n        }\n      })\n    }\n  }\n\n  /**\n   * Detach the proxy element from the DOM\n   */\n  public detachProxy(): void {\n    this.removeChild(this.proxy)\n    if (this.proxySlot) {\n      this.shadowRoot?.removeChild(this.proxySlot as HTMLSlotElement)\n    }\n  }\n\n  public get form(): Maybe<HTMLFormElement> {\n    if (supportsElementInternals && this.elementInternals) {\n      return this.elementInternals.form\n    }\n\n    return this.proxy.closest('form')\n  }\n\n  public get labels(): ReadonlyArray<Node> {\n    return Object.freeze(Array.from(this.InternalOrProxy.labels || []))\n  }\n\n  public get validationMessage(): Maybe<string> {\n    return this.InternalOrProxy.validationMessage\n  }\n\n  public get validated(): ValidityState {\n    return this.InternalOrProxy.validity\n  }\n\n  public get willValidate(): boolean {\n    return this.InternalOrProxy.willValidate\n  }\n\n  checkValidity(): boolean {\n    return this.InternalOrProxy.checkValidity()\n  }\n\n  reportValidity(): boolean {\n    return this.InternalOrProxy.reportValidity()\n  }\n\n  setFormValue(value: FormValue, state?: FormValue): void {\n    if (supportsElementInternals && this.elementInternals) {\n      this.elementInternals.setFormValue(value, state)\n    }\n  }\n\n  setValidity(flags: ValidityStateFlags, message?: string, anchor?: HTMLElement): void {\n    if (supportsElementInternals && this.elementInternals) {\n      this.elementInternals.setValidity(flags, message, anchor)\n    } else if (typeof message === 'string') {\n      this.proxy.setCustomValidity(message)\n    }\n  }\n\n  public get validity(): ValidityState {\n    return this.InternalOrProxy.validity\n  }\n\n  @observer({ reflect: true })\n  name = ''\n  nameChanged(old: string, next: string): void {\n    if (this.proxy) {\n      this.proxy.name = next\n    }\n  }\n\n  @observer<FormAssociated, FormValue>({\n    type: 'any',\n    initCallback: true,\n    converter(v, host) {\n      const { proxy } = host\n      if (proxy instanceof HTMLInputElement && proxy.type === 'file') {\n        console.error('Failed to set value on File Input')\n        return host.value\n      }\n      return v\n    },\n    tempKey: '_.value',\n  })\n  value?: FormValue\n  protected valueChanged(old: FormValue, next: FormValue): void {\n    this.dirtyValue = true\n    const { proxy } = this\n\n    if (this.proxy instanceof HTMLInputElement) {\n      if (typeof next === 'string') {\n        proxy.value = next\n      } else if (next === null) {\n        proxy.value = ''\n      }\n    }\n    this.setFormValue(next)\n    this.validate()\n  }\n\n  validate(): void {\n    if (this.proxy instanceof HTMLElement) {\n      this.setValidity(this.proxy.validity, this.proxy.validationMessage)\n    }\n  }\n\n  @observer({ type: 'boolean', reflect: true })\n  disabled = false\n\n  @observer({ type: 'boolean' })\n  required = false\n  requiredChanged(old: boolean, next: boolean): void {\n    if (this.proxy instanceof HTMLElement) {\n      this.proxy.required = next\n    }\n    this.validate()\n  }\n\n  private _handleKeydown(e: KeyboardEvent): void {\n    if (e.key === 'Enter' && e.target instanceof HTMLEmbedElement) {\n      this.form?.submit()\n    }\n  }\n\n  handleFormReset(): void {\n    this.value = this.initialValue\n    this.dirtyValue = false\n  }\n\n  handleProxyInvalid(e: Event): void {\n    if (e.isTrusted) {\n      this.dispatchEvent(new CustomEvent('invalid', { detail: e, bubbles: true, composed: true }))\n    }\n  }\n\n  handleProxyChange = (e: Event): void => {\n    const { proxy } = this\n    if (proxy instanceof HTMLInputElement && proxy.type === 'file') {\n      const { files } = proxy\n      if (!files) return\n      let value = ''\n      if (files.length === 1) {\n        value = proxy.value.split(/[/\\\\]/g).pop() ?? ''\n      } else if (files.length > 1) {\n        value = `${files.length} 个文件`\n      }\n\n      Reflect.set(this, '_.value', value)\n      this.requestUpdate('value')\n    } else {\n      this.value = proxy.value\n    }\n    this.checkValidity()\n  }\n}\n","import { css, CSSResultGroup, unsafeCSS } from 'lit'\nimport globalCSSText from './styles/global.css'\n\nconst mergeStyles = (...cssTexts: string[]): CSSResultGroup =>\n  css`\n    ${unsafeCSS([globalCSSText, ...cssTexts].join(''))}\n  `\n\nexport default mergeStyles\n","import { html, TemplateResult } from 'lit'\n\nexport const before = (inner?: TemplateResult): TemplateResult =>\n  html`<slot name=\"before\" part=\"before\">${inner}</slot>`\nexport const after = (inner?: TemplateResult): TemplateResult => html`<slot name=\"after\" part=\"after\">${inner}</slot>`\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { ignoreInitChanged, observer } from '../decorators'\nimport FormAssociated from '../form-associated'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\nconst createProxy = () => document.createElement('input')\n\n@customElement('fc-button')\nexport class FCButton extends FormAssociated {\n  static styles = mergeStyles(style)\n\n  constructor() {\n    super(createProxy())\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'click', this.handleClick)\n    onEvent(this, 'keydown', this.handleKeydown)\n\n    if (this.hasAttribute('autofocus') && !document.activeElement) {\n      if (!this.hasAttribute('tabindex')) {\n        this.setAttribute('tabindex', '0')\n      }\n      this.focus({ preventScroll: true })\n    }\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    this.proxy.removeEventListener('click', this.handleSubmission)\n    this.proxy.removeEventListener('click', this.handleClick)\n    this.proxy.removeEventListener('click', this.handleReset)\n  }\n\n  @observer({ type: 'boolean' })\n  autofocus = false\n\n  @observer({ type: 'boolean', reflect: true })\n  disabled = false\n  disabledChanged(old: boolean, next: boolean): void {\n    this.proxy.toggleAttribute('disabled', next)\n  }\n\n  @observer({ reflect: true })\n  type: 'button' | 'submit' | 'reset' | 'menu' = 'button'\n  typeChanged(old: string, next: string): void {\n    if (this.proxy instanceof HTMLInputElement) {\n      this.proxy.type = next\n    }\n\n    switch (old) {\n      case 'submit':\n        this.removeEventListener('click', this.handleSubmission)\n        break\n      case 'reset':\n        this.removeEventListener('click', this.handleReset)\n        break\n      default:\n        this.removeEventListener('click', this.handleClick)\n        break\n    }\n\n    switch (next) {\n      case 'submit':\n        onEvent(this, 'click', this.handleSubmission)\n        break\n      case 'reset':\n        onEvent(this, 'click', this.handleReset)\n        break\n      default:\n        onEvent(this, 'click', this.handleClick)\n        break\n    }\n  }\n\n  @observer({ hasChanged: ignoreInitChanged })\n  formid = ''\n  formidChanged(old: string, next: string): void {\n    this.proxy.setAttribute('form', next)\n  }\n\n  @observer({ hasChanged: ignoreInitChanged })\n  formaction = ''\n  formactionChanged(old: string, next: string): void {\n    this.proxy.setAttribute('formaction', next)\n  }\n\n  @observer({ hasChanged: ignoreInitChanged })\n  formenctype = ''\n  formenctypeChanged(old: string, next: string): void {\n    this.proxy.setAttribute('formenctype', next)\n  }\n\n  @observer({ hasChanged: ignoreInitChanged })\n  formnovalidate = ''\n  formnovalidateChanged(old: string, next: string): void {\n    this.proxy.setAttribute('formnovalidate', next)\n  }\n\n  @observer({ hasChanged: ignoreInitChanged })\n  formtarget: '_self' | '_blank' | '_parent' | '_top' = '_self'\n  formtargetChanged(old: string, next: string): void {\n    this.proxy.setAttribute('formtarget', next)\n  }\n\n  // name\n  // value\n\n  @observer({ reflect: true, hasChanged: ignoreInitChanged })\n  selectable = false\n  selectableChanged(old: boolean, next: boolean): void {\n    this.selected = this.hasAttribute('selected')\n  }\n\n  @observer({ reflect: true })\n  selected = false\n  protected selectedChanged(old: boolean, next: boolean): void {\n    if (!this.selectable) {\n      Reflect.set(this, 'selected', false)\n      return\n    }\n    this.setAttribute('aria-pressed', next.toString())\n    this.emit('select')\n  }\n\n  @observer({ reflect: true })\n  outline = false\n\n  @observer()\n  readonly = false\n  readonlyChanged(old: boolean, next: boolean): void {\n    this.toggleAttribute('readonly', next)\n  }\n\n  @observer({ type: 'boolean', reflect: true })\n  sharp = false\n\n  @observer()\n  accent: 'primary' | 'scondary' | 'ghost' = 'primary'\n\n  @observer()\n  hotkey?: string\n\n  @observer({ reflect: true })\n  tabIndex = 0\n\n  handleClick(e: Event): void {\n    if (this.disabled) {\n      // should not fire click event.\n      e.stopImmediatePropagation()\n    }\n\n    setTimeout(() => {\n      if (!e.defaultPrevented && this.selectable) {\n        e.preventDefault()\n        this.selected = !this.selected\n      }\n    })\n  }\n\n  handleSubmission(e: Event): void {\n    setTimeout(() => {\n      if (e.defaultPrevented) return\n      if (typeof this.form?.requestSubmit === 'function' && this.proxy) {\n        this.form.requestSubmit()\n      } else if (this.form) {\n        this.form.submit()\n      } else {\n        this.proxy?.click()\n      }\n    })\n  }\n\n  handleReset(e: Event): void {\n    if (!e.defaultPrevented) {\n      if (typeof this.form?.reset === 'function') this.form.reset()\n    }\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    if (e.target === this && [' ', 'Enter'].includes(e.key)) {\n      e.preventDefault()\n      this.emit('click', { originalEvent: e })\n    }\n  }\n\n  render(): TemplateResult<1> {\n    return html`\n      ${before()}\n      <slot></slot>\n      ${after()}\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-checkbox value=\\\"apple\\\" name=\\\"fruit\\\">苹果</fc-checkbox>\\n<fc-checkbox value=\\\"orange\\\" name=\\\"fruit\\\">橘子</fc-checkbox>\\n\\n<h4>半选状态</h4>\\n<fc-checkbox name=\\\"orange\\\" indeterminate>橘子</fc-checkbox>\\n\\n<h4>不可用</h4>\\n<fc-checkbox disabled>苹果</fc-checkbox>\\n<fc-checkbox checked disabled>苹果</fc-checkbox>\\n\\n<h4>仅可读</h4>\\n<fc-checkbox readonly>苹果</fc-checkbox>\\n\\n<h4>已选中</h4>\\n<fc-checkbox checked>苹果</fc-checkbox>\\n\\n<h4>自定义 value</h4>\\n<fc-checkbox value=\\\"apple\\\" name=\\\"fruit\\\">苹果</fc-checkbox>\\n\\n<h4>自定义图标</h4>\\n<fc-checkbox value=\\\"apple\\\" name=\\\"fruit\\\">\\n  <span slot=\\\"checked-indicator\\\">✅</span>\\n  苹果\\n</fc-checkbox>\\n\\n<h4>跟 Form 一起使用</h4>\\n<form action=\\\"#\\\" id=\\\"form-1\\\">\\n  <label>\\n    <input type=\\\"checkbox\\\" value=\\\"apple\\\" name=\\\"fruit\\\" checked />\\n    apple\\n  </label>\\n  <fc-checkbox value=\\\"banana\\\" name=\\\"fruit\\\" required>banana</fc-checkbox>\\n  <label>\\n    <input type=\\\"checkbox\\\" value=\\\"orange\\\" name=\\\"fruit\\\" checked />\\n    orange\\n  </label>\\n  <br />\\n  <input type=\\\"submit\\\" />\\n</form>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport FormAssociated from '../form-associated'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\nconst createProxy = () => {\n  const checkbox = document.createElement('input')\n  checkbox.type = 'checkbox'\n  return checkbox\n}\n\n@customElement('fc-checkbox')\nexport class FCCheckbox extends FormAssociated {\n  static styles = mergeStyles(style)\n\n  constructor() {\n    super(createProxy())\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.checked = this.hasAttribute('checked')\n    this.defaultChecked = this.checked\n\n    onEvent(this, 'click', this.handleClick)\n    onEvent(this, 'keydown', this.handleKeydown)\n  }\n\n  @observer()\n  value = 'on'\n  valueChanged(old: string, next: string): void {\n    super.valueChanged(old, next)\n    this.dirtyValue = true\n    if (this.proxy) {\n      this.proxy.value = next\n    }\n    this.updateForm()\n  }\n\n  @observer({ reflect: true })\n  role = 'checkbox'\n\n  @observer({ reflect: true })\n  tabIndex = 0\n\n  @observer({ type: 'boolean', reflect: true })\n  checked = false\n  checkedChanged(old: boolean, next: boolean): void {\n    if (this.proxy instanceof HTMLInputElement) {\n      this.proxy.checked = next\n    }\n    this.updateForm()\n  }\n\n  @observer({ type: 'boolean', attribute: 'checked' })\n  defaultChecked = false\n\n  @observer()\n  label = ''\n\n  @observer({ type: 'boolean', reflect: true })\n  indeterminate = false\n\n  @observer({ type: 'boolean', reflect: true })\n  readOnly = false\n  readOnlyChanged(): void {\n    this.classList.toggle('readonly', this.readOnly)\n  }\n\n  private type = 'checkbox'\n\n  updateForm(): void {\n    const { value, checked } = this\n    const mergedValue = checked ? value : null\n    this.setFormValue(mergedValue, mergedValue)\n    this.validate()\n  }\n\n  private toggleSelect() {\n    if (!this.disabled && !this.readOnly) {\n      this.updateForm()\n      if (this.indeterminate) this.indeterminate = false\n      this.checked = !(this.checked || this.indeterminate)\n      this.emit('change')\n\n      return true\n    }\n  }\n\n  private handleClick(e: MouseEvent): void {\n    if (this.toggleSelect()) e.preventDefault()\n  }\n\n  private handleKeydown(e: KeyboardEvent) {\n    if (' ' === e.key && this.toggleSelect()) {\n      e.preventDefault()\n    }\n  }\n\n  render(): TemplateResult {\n    return html`\n      <div class=\"checkbox control fc-inner-outline\" part=\"control\">\n        <slot name=\"default-indicator\">\n          <div class=\"default-indicator\"></div>\n        </slot>\n        <slot name=\"checked-indicator\">\n          <svg\n            class=\"checked-indicator\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"12\"\n            height=\"12\"\n            fill-rule=\"evenodd\"\n            xmlns:v=\"https://vecta.io/nano\"\n          >\n            <path d=\"M3.586 8.353l5.657-5.657 1.414 1.414L5 9.767z\" />\n            <path d=\"M2.879 4.817l3.536 3.536L5 9.767 1.464 6.231z\" />\n          </svg>\n        </slot>\n        <slot name=\"indeterminate-indicator\">\n          <div class=\"indeterminate-indicator\"></div>\n        </slot>\n      </div>\n      <label class=\"label\" part=\"label\"><slot>${this.label}</slot></label>\n    `\n  }\n}\n","export default \"<fc-combobox value=\\\"baz\\\">\\n  <fc-list-option value=\\\"foo\\\"></fc-list-option>\\n  <fc-list-option value=\\\"bar\\\"></fc-list-option>\\n  <fc-list-option value=\\\"baz\\\"></fc-list-option>\\n</fc-combobox>\\n\\n<h4>简单使用</h4>\\n<p>输入内容会有自动补全提示，利用上下键可进行选择操作</p>\\n<fc-combobox placeholder=\\\"请选择或输入\\\">\\n  <fc-list-option value=\\\"1\\\">Ada</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">Alex</fc-list-option>\\n  <fc-list-option value=\\\"3\\\">Alice</fc-list-option>\\n  <fc-list-option value=\\\"4\\\">Belle</fc-list-option>\\n  <fc-list-option value=\\\"5\\\">Babs</fc-list-option>\\n  <fc-list-option value=\\\"6\\\">Barbara</fc-list-option>\\n  <fc-list-option value=\\\"7\\\">Camilla</fc-list-option>\\n  <fc-list-option value=\\\"8\\\">Candice</fc-list-option>\\n  <fc-list-option value=\\\"9\\\">Carla</fc-list-option>\\n</fc-combobox>\\n\\n<h4>默认值</h4>\\n<fc-combobox value=\\\"1\\\">\\n  <fc-list-option value=\\\"1\\\">Ada</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">Alex</fc-list-option>\\n  <fc-list-option value=\\\"3\\\">Alice</fc-list-option>\\n  <fc-list-option value=\\\"4\\\">Belle</fc-list-option>\\n  <fc-list-option value=\\\"5\\\">Babs</fc-list-option>\\n  <fc-list-option value=\\\"6\\\">Barbara</fc-list-option>\\n  <fc-list-option value=\\\"7\\\">Camilla</fc-list-option>\\n  <fc-list-option value=\\\"8\\\">Candice</fc-list-option>\\n  <fc-list-option value=\\\"9\\\">Carla</fc-list-option>\\n</fc-combobox>\\n\\n<h4>大小写敏感</h4>\\n<fc-combobox autocomplete=\\\"inline\\\" casesensitive placeholder=\\\"请输入\\\">\\n  <fc-list-option value=\\\"1\\\">Ada</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">Alex</fc-list-option>\\n  <fc-list-option value=\\\"3\\\">Alice</fc-list-option>\\n  <fc-list-option value=\\\"4\\\">Belle</fc-list-option>\\n  <fc-list-option value=\\\"5\\\">Babs</fc-list-option>\\n  <fc-list-option value=\\\"6\\\">Barbara</fc-list-option>\\n  <fc-list-option value=\\\"7\\\">Camilla</fc-list-option>\\n  <fc-list-option value=\\\"8\\\">Candice</fc-list-option>\\n  <fc-list-option value=\\\"9\\\">Carla</fc-list-option>\\n</fc-combobox>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport FormAssociated from '../form-associated'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\nexport const isOption = (el: Element): el is FCListOption =>\n  el.tagName.toLowerCase() === 'fc-list-option' || el instanceof FCListOption\n\nconst createProxy = () => {\n  const proxy = document.createElement('input')\n  proxy.type = 'radio'\n  return proxy\n}\n\n@customElement('fc-list-option')\nexport class FCListOption extends FormAssociated {\n  static styles = mergeStyles(style)\n\n  constructor() {\n    super(createProxy())\n  }\n\n  @observer({ type: 'boolean', reflect: true })\n  hidden = false\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'click', this.handleClick)\n    onEvent(this, 'blur', this.handleBlur)\n  }\n\n  @observer({ reflect: true })\n  role = 'option'\n\n  @observer()\n  selectable = true\n\n  @observer<FCListOption>({\n    reflect: true,\n    // initCallback: true,\n    converter(v: boolean, host) {\n      return host.selectable && v\n    },\n  })\n  selected = false\n  protected selectedChanged(old: boolean, next: boolean): void {\n    this.emit('select')\n    this.setAttribute('tabindex', String(Number(next) - 1))\n    if (this.proxy instanceof HTMLInputElement) {\n      this.proxy.checked = next\n    }\n  }\n\n  select(selected = true): void {\n    if (selected !== this.selected) {\n      this.selected = selected\n    }\n  }\n\n  @observer({ attribute: false })\n  defaultSelected = this.hasAttribute('selected')\n\n  // @observer({ type: 'boolean', reflect: true })\n  // disabled = false\n\n  // @observer()\n  // name = ''\n  // nameChanged(old: string, next: string): void {\n  //   if (this.proxy) {\n  //     this.proxy.name = next\n  //   }\n  // }\n\n  // @observer({ initCallback: true })\n  value = this.getAttribute('value') ?? ''\n  valueChanged(old: string, next: string): void {\n    super.valueChanged(old, next)\n    if (this.proxy) {\n      this.proxy.value = next\n    }\n  }\n\n  // @observer()\n  // required = false\n\n  // 不能真的获取焦点，因为在 comobox 下，焦点应该在输入框上\n  focusItem(focused = true): void {\n    this.toggleAttribute('focused', focused)\n    // this.scrollIntoView({ block: 'nearest' })\n  }\n\n  get focused(): boolean {\n    return this.hasAttribute('focused')\n  }\n\n  public get form(): HTMLFormElement | null {\n    return this.closest('form')\n  }\n\n  public get index(): number {\n    const { parentElement } = this\n    if (parentElement) {\n      return Array.from(parentElement.querySelectorAll('fc-list-option:not([hidden])')).findIndex(e => e === this)\n    }\n    return -1\n  }\n\n  public get text(): string {\n    return this.getAttribute('label') || this.textContent || this.value || ''\n  }\n\n  handleClick(e: MouseEvent): void {\n    e.preventDefault()\n    this.selected = !this.disabled && this.selectable\n  }\n\n  handleBlur(e: FocusEvent): void {\n    this.toggleAttribute('focused', false)\n  }\n\n  render(): TemplateResult {\n    return html`<div class=\"control\" part=\"control\" role=\"option\">\n      ${before()}\n      <span class=\"icon\">\n        <slot name=\"icon\">\n          <svg\n            class=\"checked-indicator\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 12 12\"\n            style=\"enable-background:new 0 0 12 12\"\n            xml:space=\"preserve\"\n          >\n            <path\n              d=\"M4.4 10c-.3 0-.5-.1-.7-.3l-3-3.1c-.4-.4-.4-1 0-1.4.4-.4 1-.4 1.4 0l2.3 2.4 5.5-5.3c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4l-6.2 6c-.2.2-.4.3-.7.3z\"\n            />\n          </svg>\n        </slot>\n      </span>\n      <span class=\"content\">\n        <slot>${this.text}</slot>\n      </span>\n      ${after()}\n    </div>`\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { assignedElements, observer } from '../decorators'\nimport FormAssociated from '../form-associated'\nimport { onEvent, toggleTabIndex } from '../helper'\nimport { FCListOption, isOption } from '../list-option'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\nconst createProxy = () => document.createElement('select')\nconst match = (op: FCListOption, text: string) => op.text.toLowerCase().startsWith(text)\n\n@customElement('fc-listbox')\nexport class FCListBox extends FormAssociated {\n  static styles = mergeStyles(style)\n\n  constructor() {\n    super(createProxy())\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'keydown', this.handleKeydown)\n    onEvent(this, 'select', this.handleSelect)\n    this.setAttribute('aria-orientation', 'vertical')\n  }\n\n  @observer({ attribute: false, init: false, type: 'string' })\n  protected displayValue?: string\n\n  @observer()\n  disabled = false\n  protected disabledChanged(): void {\n    if (this.disabled) {\n      this.updateComplete.then(() => {\n        this.options.forEach(op => (op.disabled = true))\n      })\n    }\n  }\n\n  @observer({ reflect: true })\n  role = 'listbox'\n\n  @observer({ initCallback: true })\n  value = this.getAttribute('value') ?? ''\n  valueChanged(old: string, next: string): void {\n    if (!this.selectable || (!this.hasAttribute('value') && !next)) {\n      return\n    }\n\n    this.visibleOptions.find(op => op.select)?.select(false)\n    const nextOption = this.visibleOptions.find(op => op.value === next)\n    if (nextOption) {\n      nextOption.select(true)\n    }\n  }\n\n  @observer()\n  selectable = true\n\n  @observer({ reflect: true })\n  tabindex = '0'\n\n  public get visibleOptions(): FCListOption[] {\n    return Array.from(this.children)\n      .filter(isOption)\n      .filter(o => !o.hidden)\n  }\n  public set visibleOptions(options: FCListOption[]) {\n    this.innerHTML = ''\n    options.forEach(op => this.appendChild(op))\n  }\n\n  @observer({ attribute: false })\n  @assignedElements()\n  options = [] as FCListOption[]\n\n  public get length(): number {\n    return this.visibleOptions.length\n  }\n\n  public set length(v: number) {\n    this.options = this.options.slice(0, v)\n  }\n\n  getItem(index: number): FCListOption | undefined {\n    return this.visibleOptions.find(o => o.index === index)\n  }\n\n  // 可以避免 value 相同时，设置 value 导致选择错乱的问题\n  @observer({ attribute: false, initCallback: true })\n  selectedOption?: FCListOption\n  selectedOptionChanged(old?: FCListOption, next?: FCListOption): void {\n    if (old) {\n      old.focusItem(false)\n      old.select(false)\n    }\n\n    if (next) {\n      this.value = next.value\n      this.displayValue = next.text\n      next.focusItem(true)\n    } else {\n      this.value = ''\n      this.displayValue = undefined\n    }\n\n    this.emit('change', { old, next })\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    const withCtrl = e.metaKey || e.ctrlKey || e.altKey ? this.length : 0\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault()\n        this.focusNextOption(1 + withCtrl)\n        break\n      case 'ArrowUp':\n        e.preventDefault()\n        this.focusNextOption(-1 - withCtrl)\n        break\n      case 'Enter':\n        e.preventDefault()\n        if (this.focusedItem instanceof FCListOption) {\n          e.preventDefault()\n          this.select(this.focusedItem)\n        }\n        break\n      case 'Escape':\n        e.preventDefault()\n        this.blur()\n        break\n      default:\n        this.gotoMatch(e)\n    }\n  }\n\n  focusNextOption(delta = 1): void {\n    const focusedTarget = toggleTabIndex(this.visibleOptions, delta, true)\n    if (focusedTarget) {\n      this.visibleOptions.forEach(e => e.removeAttribute('focused'))\n      focusedTarget.toggleAttribute('focused', true)\n      focusedTarget.scrollIntoView({ block: 'nearest' })\n    }\n  }\n\n  select(target: FCListOption): void {\n    const { selectedOption } = this\n    const changed = target !== selectedOption\n    if (changed) {\n      this.selectedOption = target\n      target.select(true)\n    }\n  }\n\n  handleSelect(event: Event): void {\n    event.stopImmediatePropagation()\n    const { target } = event\n    if (!this.selectable) {\n      return\n    }\n\n    if (target instanceof FCListOption && target.selected) {\n      if (target !== this.selectedOption) {\n        if (this.selectedOption) this.selectedOption.selected = false\n        this.selectedOption = target\n      }\n      //  else {\n      //   this.selectedOption = undefined\n      // }\n    }\n  }\n\n  private matchedText = ''\n\n  private get focusedItem() {\n    return this.visibleOptions.find(op => op.hasAttribute('focused'))\n  }\n\n  gotoMatch(e: KeyboardEvent): void {\n    const key = e.key.toLocaleLowerCase()\n    if (!(key.length === 1 && key >= 'a' && key <= 'z')) return\n    const accText = this.matchedText + key\n    let deepMatch = false\n    const { visibleOptions, selectedOption } = this\n    if (selectedOption) {\n      deepMatch = match(selectedOption, accText)\n\n      if (!deepMatch) {\n        // deep first\n        const otherDeepMatch = visibleOptions.find(op => match(op, accText))\n        const otherMatch = otherDeepMatch || visibleOptions.filter(x => x !== selectedOption).find(op => match(op, key))\n        if (otherMatch) {\n          this.selectedOption = otherMatch\n          this.matchedText = key\n          return\n        }\n      }\n    }\n\n    if (!deepMatch) {\n      const matched = this.visibleOptions.find(op => match(op, key))\n      if (matched) {\n        e.preventDefault()\n        this.selectedOption = matched\n        this.matchedText = key\n      } else {\n        this.matchedText = ''\n        this.selectedOption = undefined\n      }\n    } else {\n      this.matchedText += key\n    }\n  }\n\n  render(): TemplateResult {\n    return html`<slot></slot>`\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { onEvent, removeCSSText, setCSSText } from '../helper'\nimport { FCListBox } from '../listbox'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\nexport enum POSTION {\n  top = 'top',\n  bottom = 'bottom',\n}\n\ntype Position = keyof typeof POSTION\n\n@customElement('fc-select')\nexport class FCSelect extends FCListBox {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'focusout', this.handleFocusout)\n    onEvent(this, 'click', this.handleClick)\n  }\n\n  displayValueChanged(old: string | undefined, next: string): void {\n    if (typeof old === 'string') {\n      this.open = false\n    }\n  }\n\n  @observer({ reflect: true })\n  role = 'listbox'\n\n  @observer({ reflect: true })\n  tabindex = '0'\n\n  valueChanged(old: string, next: string): void {\n    if (!this.selectable) {\n      return\n    }\n\n    super.valueChanged?.(old, next)\n    this.visibleOptions.find(op => op.select)?.select(false)\n    const nextOption = this.visibleOptions.find(op => op.value === next)\n    if (nextOption) {\n      nextOption.select(true)\n    }\n    this.emit('change', { old, next })\n  }\n\n  @observer({ reflect: true, initCallback: true })\n  open = this.hasAttribute('open')\n  openChanged(old: boolean, next: boolean): void {\n    this.setAttribute('aria-expanded', String(next))\n    if (next) {\n      this.focus()\n      setCSSText(this, { '--client-height': `${this.clientHeight}px` })\n      this.updateComplete.then(() => {\n        this.selectedOption?.scrollIntoView({ block: 'nearest' })\n      })\n    } else {\n      removeCSSText(this, '--client-height')\n    }\n  }\n\n  @observer()\n  placeholder = '请选择'\n\n  handleKeydown(e: KeyboardEvent): void {\n    if (!this.open && ['ArrowDown', 'ArrowUp', 'Enter'].includes(e.key)) {\n      e.preventDefault()\n      this.open = true\n    } else {\n      super.handleKeydown(e)\n    }\n  }\n\n  @observer({ reflect: true })\n  outline = true\n\n  @observer<FCSelect, string>({\n    converter(pos, host) {\n      const position = host.getAttribute('position') || ''\n      if (Object.keys(POSTION).includes(position)) {\n        return position as Position\n      }\n\n      const { top, height } = host.getBoundingClientRect()\n      return top + height / 2 > window.innerHeight / 2 ? 'top' : 'bottom'\n    },\n  })\n  position = 'bottom'\n\n  handleClick(e: MouseEvent): void {\n    if (!this.disabled) {\n      this.open = !this.open\n    }\n  }\n\n  handleClickControl(e: MouseEvent): void {\n    e.preventDefault()\n    if (!this.disabled) {\n      this.open = !this.open\n    }\n  }\n\n  handleFocusout(e: FocusEvent): void {\n    const { relatedTarget } = e\n    if (!(relatedTarget instanceof Node && this.contains(relatedTarget))) {\n      this.open = false\n    }\n  }\n\n  render(): TemplateResult {\n    return html`\n      <div\n        class=\"control\"\n        id=\"control\"\n        part=\"control\"\n        role=\"comobox\"\n        aria-haspopup=\"listbox\"\n        @click=\"${this.handleClickControl}\"\n        disabled=\"${this.disabled}\"\n      >\n        ${before()}\n        <slot name=\"button-container\">\n          <div class=\"selected-value\" part=\"selected-value\">\n            ${this.displayValue ?? html`<slot name=\"placeholder\" part=\"placeholder\">${this.placeholder}</slot>`}\n          </div>\n          <div class=\"indicator\" part=\"indicator\">\n            <slot name=\"indicator\">\n              <svg class=\"icon-indicator\" part=\"icon-indicator\" viewBox=\"0 0 12 7\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z\"\n                />\n              </svg>\n            </slot>\n          </div>\n        </slot>\n        ${after()}\n      </div>\n      <div\n        class=\"listbox\"\n        ?has-options=\"${this.length > 0}\"\n        part=\"listbox\"\n        ?hidden=${!this.open}\n        role=\"listbox\"\n        ?disabled=\"${this.disabled}\"\n        position=\"${this.position}\"\n        tabindex=\"${this.open ? '0' : ''}\"\n      >\n        <slot></slot>\n        ${this.length === 0 ? html`<slot name=\"empty\">--空--</slot>` : null}\n      </div>\n    `\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { createRef, Ref, ref } from 'lit/directives/ref.js'\nimport { observer } from '../decorators'\nimport { onEvent } from '../helper'\nimport { FCListOption, isOption } from '../list-option'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport { FCSelect } from '../select/index'\nimport selectStyle from '../select/style.css'\nimport style from './style.css'\n\n@customElement('fc-combobox')\nexport class FCComboBox extends FCSelect {\n  static styles = mergeStyles(selectStyle, style)\n\n  inputRef: Ref<HTMLInputElement> = createRef()\n\n  @observer({ reflect: true })\n  role = 'combobox'\n\n  @observer()\n  autocomplete = ''\n\n  @observer({ type: 'boolean' })\n  casesensitive = false\n\n  @observer()\n  placeholder = ''\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'select', this.handleSelect)\n  }\n\n  caseCompaire(a: string, b: string): boolean {\n    return this.translateCase(a) == this.translateCase(b)\n  }\n\n  translateCase(v: string): string {\n    return this.casesensitive ? v : v.toLowerCase()\n  }\n\n  filterOptions(text: string): void {\n    let someMatched = false\n    this.options.forEach(o => {\n      const matched = text === '' || this.translateCase(o.text).startsWith(this.translateCase(text))\n      o.hidden = !matched\n      if (matched && text === o.text) {\n        this.selectedOption = o\n        someMatched = true\n      }\n    })\n    if (!someMatched) {\n      this.selectedOption = undefined\n    }\n  }\n\n  get input(): HTMLInputElement | null | undefined {\n    return this.shadowRoot?.querySelector('.selected-value')\n  }\n\n  displayValueChanged(old: string | undefined, next: string): void {\n    if (typeof old === 'string') {\n      this.open = false\n    }\n    this.inputValue = next\n  }\n\n  selectedOptionChanged(old: FCListOption, next: FCListOption): void {\n    super.selectedOptionChanged(old, next)\n    if (next) {\n      this.inputValue = next.text\n    }\n  }\n\n  valueChanged(old: string, next: string): void {\n    if (!this.selectable) {\n      return\n    }\n\n    this.updateComplete.then(() => {\n      this.visibleOptions.find(op => op.select)?.select(false)\n      const nextOption = this.options.find(op => op.value === next)\n\n      if (nextOption) {\n        nextOption.select(true)\n        this.selectedOption = nextOption\n      } else {\n        this.inputValue = next\n      }\n    })\n\n    this.emit('change', { old, next })\n    this.setFormValue(next)\n    this.validate()\n  }\n\n  @observer({ attribute: false })\n  inputValue = this.getAttribute('value') ?? ''\n  inputValueChanged(old: string, next: string): void {\n    if (old) {\n      this.filterOptions(next)\n    } else {\n      this.updateComplete.then(() => this.filterOptions(next))\n    }\n    this.displayValue = next\n  }\n\n  handleLabelClick(e: MouseEvent): void {\n    e.stopPropagation()\n    const input = this.shadowRoot?.querySelector('.selected-value')\n    if (input instanceof HTMLElement) input.focus()\n  }\n\n  handleFocus(): void {\n    this.open = true\n  }\n\n  handleSelect(e: Event): void {\n    if (!this.selectable || this.disabled) return\n    const { target } = e\n    if (target instanceof HTMLElement && isOption(target) && target.selected) {\n      this.open = false\n      this.inputValue = target.text\n      this.value = target.value\n    }\n  }\n\n  handleInputChange(): void {\n    this.open = false\n    const inputValue = (this.input as HTMLInputElement).value\n    this.filterOptions(inputValue)\n    this.selectedOption = this.visibleOptions.find(o => this.caseCompaire(o.text, inputValue.trim()))\n  }\n\n  handleInput(e: InputEvent): void {\n    e.stopPropagation()\n    this.open = true\n    const { value } = e.target as HTMLInputElement\n    this.selectedOption = undefined\n    this.inputValue = value.trim()\n    this.filterOptions(value.trim())\n  }\n\n  render(): TemplateResult<1> {\n    return html`\n      <label\n        for=\"input\"\n        class=\"control\"\n        id=\"control\"\n        part=\"control\"\n        role=\"comobox\"\n        aria-haspopup=\"listbox\"\n        @click=\"${this.handleLabelClick}\"\n      >\n        ${before()}\n        <slot name=\"button-container\">\n          <input\n            class=\"selected-value\"\n            part=\"selected-value\"\n            .value=\"${this.inputValue}\"\n            @input=\"${this.handleInput}\"\n            @change=\"${this.handleInputChange}\"\n            @focus=\"${this.handleFocus}\"\n            placeholder=\"${this.placeholder}\"\n            ${ref(this.inputRef)}\n          ></input>\n          <div class=\"indicator\" part=\"indicator\">\n            <slot name=\"indicator\">\n              <svg\n                class=\"select-indicator\"\n                part=\"select-indicator\"\n                viewBox=\"0 0 12 7\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z\"\n                />\n              </svg>\n            </slot>\n          </div>\n        </slot>\n        ${after()}\n      </label>\n      <div\n        class=\"listbox\"\n        ?has-options=\"${this.length > 0}\"\n        part=\"listbox\"\n        role=\"listbox\"\n        ?disabled=\"${this.disabled}\"\n        position=\"${this.position}\"\n        tabindex=\"${this.open ? '0' : ''}\"\n      >\n        <slot></slot>\n        <slot name=\"empty\">--空--</slot>\n      </div>\n    `\n  }\n}\n","export default \"<style>\\n  .inline-grid {\\n    display: inline-grid;\\n    width: auto;\\n    margin-right: 16px;\\n  }\\n  .inline-grid > p {\\n    margin-bottom: 6px;\\n  }\\n  .up,\\n  .down {\\n    display: none;\\n    font-style: normal;\\n    color: #ff0;\\n  }\\n  [order='asc'] .down {\\n    display: inline-block;\\n  }\\n  [order='desc'] .up {\\n    display: inline-block;\\n  }\\n  .sortable-header:not([sortindex='4']) :is(.up, .down) {\\n    display: none;\\n  }\\n</style>\\n\\n<h4>简单使用</h4>\\n<fc-data-grid>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张三</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>20岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>学生</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>李四</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>23岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>工人</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>王五</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>24岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>导游</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\\n<h4>带表头</h4>\\n<fc-data-grid class=\\\"inline-grid\\\">\\n  <fc-data-grid-row slot=\\\"row-header\\\">\\n    <fc-data-grid-cell>姓名</fc-data-grid-cell>\\n    <fc-data-grid-cell>性别</fc-data-grid-cell>\\n    <fc-data-grid-cell>年龄</fc-data-grid-cell>\\n    <fc-data-grid-cell>职业</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张三</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>20岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>学生</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>李四</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>23岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>工人</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>王五</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>24岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>导游</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\\n<h4>显示边框</h4>\\n<fc-data-grid outline class=\\\"inline-grid\\\">\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张三</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>20岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>学生</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>李四</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>23岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>工人</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>王五</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>24岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>导游</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\\n<h4>显示网格</h4>\\n<fc-data-grid outline grid class=\\\"inline-grid\\\">\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张三</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>20岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>学生</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>李四</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>23岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>工人</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>王五</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>24岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>导游</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n<fc-data-grid grid class=\\\"inline-grid\\\">\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张三</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>20岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>学生</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>李四</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>23岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>工人</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>王五</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>24岁</fc-data-grid-cell>\\n    <fc-data-grid-cell>导游</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\\n<h4>跨单元格</h4>\\n<fc-data-grid outline grid>\\n  <fc-data-grid-row role=\\\"rowheader\\\">\\n    <fc-data-grid-cell colspan=\\\"2\\\" rowspan=\\\"2\\\">可见性</fc-data-grid-cell>\\n    <fc-data-grid-cell colspan=\\\"3\\\">投影/表面</fc-data-grid-cell>\\n    <fc-data-grid-cell colspan=\\\"2\\\">截面</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row role=\\\"rowheader\\\">\\n    <fc-data-grid-cell>线</fc-data-grid-cell>\\n    <fc-data-grid-cell>填充图案</fc-data-grid-cell>\\n    <fc-data-grid-cell>透明度</fc-data-grid-cell>\\n    <fc-data-grid-cell>线</fc-data-grid-cell>\\n    <fc-data-grid-cell>填充图案</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>1</fc-data-grid-cell>\\n    <fc-data-grid-cell>2</fc-data-grid-cell>\\n    <fc-data-grid-cell>3</fc-data-grid-cell>\\n    <fc-data-grid-cell>4</fc-data-grid-cell>\\n    <fc-data-grid-cell>5</fc-data-grid-cell>\\n    <fc-data-grid-cell>6</fc-data-grid-cell>\\n    <fc-data-grid-cell>7</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\\n<h4>折叠 row</h4>\\n<fc-data-grid outline grid>\\n  <fc-data-grid-row role=\\\"rowheader\\\">\\n    <fc-data-grid-cell colspan=\\\"2\\\" rowspan=\\\"2\\\">可见性</fc-data-grid-cell>\\n    <fc-data-grid-cell colspan=\\\"3\\\">投影/表面</fc-data-grid-cell>\\n    <fc-data-grid-cell colspan=\\\"2\\\">截面</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row role=\\\"rowheader\\\">\\n    <fc-data-grid-cell>线</fc-data-grid-cell>\\n    <fc-data-grid-cell>填充图案</fc-data-grid-cell>\\n    <fc-data-grid-cell>透明度</fc-data-grid-cell>\\n    <fc-data-grid-cell>线</fc-data-grid-cell>\\n    <fc-data-grid-cell>填充图案</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>1</fc-data-grid-cell>\\n    <fc-data-grid-cell>2</fc-data-grid-cell>\\n    <fc-data-grid-cell>3</fc-data-grid-cell>\\n    <fc-data-grid-cell>4</fc-data-grid-cell>\\n    <fc-data-grid-cell>5</fc-data-grid-cell>\\n    <fc-data-grid-cell>6</fc-data-grid-cell>\\n    <fc-data-grid-cell>7</fc-data-grid-cell>\\n\\n    <fc-data-grid-cell slot=\\\"collapse\\\" colspan=\\\"2\\\">collapse 1</fc-data-grid-cell>\\n    <fc-data-grid-cell slot=\\\"collapse\\\" colspan=\\\"5\\\">collapse 2</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>1</fc-data-grid-cell>\\n    <fc-data-grid-cell>2</fc-data-grid-cell>\\n    <fc-data-grid-cell>3</fc-data-grid-cell>\\n    <fc-data-grid-cell>4</fc-data-grid-cell>\\n    <fc-data-grid-cell>5</fc-data-grid-cell>\\n    <fc-data-grid-cell>6</fc-data-grid-cell>\\n    <fc-data-grid-cell>7</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\\n<h4>排序</h4>\\n<div class=\\\"inline-grid\\\">\\n  <p>按姓名</p>\\n  <fc-data-grid outline grid sortIndex=\\\"1\\\">\\n    <fc-data-grid-row slot=\\\"row-header\\\">\\n      <fc-data-grid-cell>\\n        <span>姓名</span>\\n        <span slot=\\\"after\\\"><i class=\\\"up\\\">↓</i><i class=\\\"down\\\">↑</i></span>\\n      </fc-data-grid-cell>\\n      <fc-data-grid-cell>性别</fc-data-grid-cell>\\n      <fc-data-grid-cell>年龄</fc-data-grid-cell>\\n      <fc-data-grid-cell>成绩</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>张三</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>23</fc-data-grid-cell>\\n      <fc-data-grid-cell>C</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>李四</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>21</fc-data-grid-cell>\\n      <fc-data-grid-cell>B</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>王五</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>25</fc-data-grid-cell>\\n      <fc-data-grid-cell>A</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>赵六</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>20</fc-data-grid-cell>\\n      <fc-data-grid-cell>D</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n  </fc-data-grid>\\n</div>\\n\\n<div class=\\\"inline-grid\\\">\\n  <p>按年龄排列</p>\\n  <fc-data-grid outline grid sortIndex=\\\"2\\\">\\n    <fc-data-grid-row slot=\\\"row-header\\\">\\n      <fc-data-grid-cell>姓名</fc-data-grid-cell>\\n      <fc-data-grid-cell>性别</fc-data-grid-cell>\\n      <fc-data-grid-cell>\\n        <span>年龄</span>\\n        <span slot=\\\"after\\\"><i class=\\\"up\\\">↓</i><i class=\\\"down\\\">↑</i></span>\\n      </fc-data-grid-cell>\\n      <fc-data-grid-cell>成绩</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>张三</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>23</fc-data-grid-cell>\\n      <fc-data-grid-cell>C</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>李四</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>21</fc-data-grid-cell>\\n      <fc-data-grid-cell>B</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>王五</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>25</fc-data-grid-cell>\\n      <fc-data-grid-cell>A</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>赵六</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>20</fc-data-grid-cell>\\n      <fc-data-grid-cell>D</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n  </fc-data-grid>\\n</div>\\n\\n<div class=\\\"inline-grid\\\">\\n  <p>按成绩降序排列</p>\\n  <fc-data-grid outline grid sortIndex=\\\"3\\\" order=\\\"desc\\\">\\n    <fc-data-grid-row slot=\\\"row-header\\\">\\n      <fc-data-grid-cell>姓名</fc-data-grid-cell>\\n      <fc-data-grid-cell>性别</fc-data-grid-cell>\\n      <fc-data-grid-cell>年龄</fc-data-grid-cell>\\n      <fc-data-grid-cell>\\n        <span>成绩</span>\\n        <span slot=\\\"after\\\"><i class=\\\"up\\\">↓</i><i class=\\\"down\\\">↑</i></span>\\n      </fc-data-grid-cell>\\n    </fc-data-grid-row>\\n\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>张三</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>23</fc-data-grid-cell>\\n      <fc-data-grid-cell>C</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>李四</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>21</fc-data-grid-cell>\\n      <fc-data-grid-cell>B</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>王五</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>25</fc-data-grid-cell>\\n      <fc-data-grid-cell>A</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>赵六</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>20</fc-data-grid-cell>\\n      <fc-data-grid-cell>D</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n  </fc-data-grid>\\n</div>\\n\\n<div class=\\\"inline-grid\\\">\\n  <p>点击表头可排序 （<i>* 性别设置了不可排序</i>）</p>\\n  <fc-data-grid outline grid sortIndex=\\\"4\\\" order=\\\"desc\\\" class=\\\"sortable-header\\\">\\n    <fc-data-grid-row slot=\\\"row-header\\\" sortable>\\n      <fc-data-grid-cell>姓名</fc-data-grid-cell>\\n      <fc-data-grid-cell sortable=\\\"false\\\">性别</fc-data-grid-cell>\\n      <fc-data-grid-cell>年龄</fc-data-grid-cell>\\n      <fc-data-grid-cell>\\n        <span>成绩</span>\\n        <span slot=\\\"after\\\"><i class=\\\"up\\\">↓</i><i class=\\\"down\\\">↑</i></span>\\n      </fc-data-grid-cell>\\n    </fc-data-grid-row>\\n\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>张三</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>23</fc-data-grid-cell>\\n      <fc-data-grid-cell>C</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>李四</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>21</fc-data-grid-cell>\\n      <fc-data-grid-cell>B</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>王五</fc-data-grid-cell>\\n      <fc-data-grid-cell>男</fc-data-grid-cell>\\n      <fc-data-grid-cell>25</fc-data-grid-cell>\\n      <fc-data-grid-cell>A</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n    <fc-data-grid-row>\\n      <fc-data-grid-cell>赵六</fc-data-grid-cell>\\n      <fc-data-grid-cell>女</fc-data-grid-cell>\\n      <fc-data-grid-cell>20</fc-data-grid-cell>\\n      <fc-data-grid-cell>D</fc-data-grid-cell>\\n    </fc-data-grid-row>\\n  </fc-data-grid>\\n</div>\\n<p><span>*</span> 排序完会触发 <code>sorted</code> 事件</p>\\n\\n<h4>固定表头</h4>\\n<p>\\n  <span>可以试试按键盘 <kbd>Tab</kbd> 获得焦点，</span>\\n  <span>然后用<kbd>↓</kbd> <kbd>↑</kbd> <kbd>→</kbd> <kbd>←</kbd> 导航，</span>\\n  <span>并配合<kbd>Ctrl</kbd>跳到边界位置</span>，\\n  <span>配合<kbd>Alt</kbd>可以正常滚动页面</span>\\n</p>\\n\\n<fc-data-grid sticky max-rows=\\\"10\\\">\\n  <fc-data-grid-row slot=\\\"row-header\\\" sortable>\\n    <fc-data-grid-cell>姓名</fc-data-grid-cell>\\n    <fc-data-grid-cell>性别</fc-data-grid-cell>\\n    <fc-data-grid-cell>年龄</fc-data-grid-cell>\\n    <fc-data-grid-cell>职业</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张千振</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>31</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>刘冰莉</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>33</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>孔丽娟</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>31</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>孙盛宇</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>34</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>刘砾丹</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>29</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>卢洋啸</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>30</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张文琦</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>29</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>王海龙</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>40</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>梁秋实</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>32</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>田平</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>31</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>臧振原</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>32</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>张海朋</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>32</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>刘彤</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>29</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>南博</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>29</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>冷玥</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>28</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>王迪</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>37</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>陈红兵</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>51</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>宫再欣</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>29</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>刘爽</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>28</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>孙慧颖</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>30</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>刘帅</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>30</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>唐铭泽</fc-data-grid-cell>\\n    <fc-data-grid-cell>男</fc-data-grid-cell>\\n    <fc-data-grid-cell>31</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>胡俊男</fc-data-grid-cell>\\n    <fc-data-grid-cell>女</fc-data-grid-cell>\\n    <fc-data-grid-cell>29</fc-data-grid-cell>\\n    <fc-data-grid-cell>职工</fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\\n<h4>与表单一起使用</h4>\\n<fc-data-grid grid>\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>视图比例</fc-data-grid-cell>\\n    <fc-data-grid-cell>\\n      <fc-input value=\\\"1:100\\\"></fc-input>\\n    </fc-data-grid-cell>\\n  </fc-data-grid-row>\\n\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>比例值 1:</fc-data-grid-cell>\\n    <fc-data-grid-cell>\\n      <fc-input readonly value=\\\"100\\\"></fc-input>\\n    </fc-data-grid-cell>\\n  </fc-data-grid-row>\\n\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>显示模型</fc-data-grid-cell>\\n    <fc-data-grid-cell>\\n      <fc-select value=\\\"1\\\">\\n        <fc-list-option value=\\\"1\\\">标准</fc-list-option>\\n        <fc-list-option value=\\\"2\\\">简单</fc-list-option>\\n      </fc-select>\\n    </fc-data-grid-cell>\\n  </fc-data-grid-row>\\n\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>详细程度</fc-data-grid-cell>\\n    <fc-data-grid-cell>\\n      <fc-select value=\\\"1\\\">\\n        <fc-list-option value=\\\"1\\\">粗略</fc-list-option>\\n        <fc-list-option value=\\\"2\\\">精细</fc-list-option>\\n      </fc-select>\\n    </fc-data-grid-cell>\\n  </fc-data-grid-row>\\n\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>零件可见性</fc-data-grid-cell>\\n    <fc-data-grid-cell>\\n      <fc-button>编辑...</fc-button>\\n    </fc-data-grid-cell>\\n  </fc-data-grid-row>\\n\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>图形显示选项</fc-data-grid-cell>\\n    <fc-data-grid-cell>\\n      <fc-button>编辑...</fc-button>\\n    </fc-data-grid-cell>\\n  </fc-data-grid-row>\\n\\n  <fc-data-grid-row>\\n    <fc-data-grid-cell>方向</fc-data-grid-cell>\\n    <fc-data-grid-cell>\\n      <fc-select value=\\\"1\\\">\\n        <fc-list-option value=\\\"1\\\">项目北</fc-list-option>\\n        <fc-list-option value=\\\"2\\\">正北</fc-list-option>\\n      </fc-select>\\n    </fc-data-grid-cell>\\n  </fc-data-grid-row>\\n</fc-data-grid>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { ignoreInitChanged, observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport mergeStyles from '../merge-styles'\n\nimport style from './style.css'\nimport { after, before } from '../pattern/before-after'\nimport { onEvent } from '../helper'\n\n@customElement('fc-data-grid-cell')\nexport class FCDataGridCell extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'focusin', this.handleFocus)\n    onEvent(this, 'blur', this.handleBlur)\n    onEvent(this, 'click', this.handleClick)\n  }\n\n  @observer({ reflect: true })\n  tabIndex = -1\n\n  @observer({ hasChanged: ignoreInitChanged })\n  colIndex = -1\n  colIndexChanged(old: number, next: number): void {\n    if (next >= 0) {\n      this.setAttribute('aria-colindex', next.toString())\n    } else {\n      this.removeAttribute('aria-colindex')\n    }\n  }\n\n  @observer()\n  colSpan = 1\n  colSpanChanged(old: number, next: number): void {\n    if (next > 1) {\n      this.style.gridColumnEnd = `span ${next}`\n    } else {\n      this.style.gridColumnEnd = ''\n    }\n  }\n\n  @observer({ reflect: true })\n  collpase = false\n\n  @observer({ reflect: true, hasChanged: ignoreInitChanged })\n  open = false\n  openChanged(old: boolean, next: boolean): void {\n    this.emit('open', { old, next })\n  }\n\n  @observer<FCDataGridCell>({\n    reflect: true,\n    init(host) {\n      const { parentElement } = host\n      if (parentElement && parentElement.getAttribute('role') == 'rowheader') {\n        return 'columnheader'\n      }\n      return 'cell'\n    },\n  })\n  role = 'cell'\n\n  @observer()\n  sortable = this.hasAttribute('sortable')\n\n  @observer()\n  rowSpan = 1\n  rowSpanChanged(old: number, next: number): void {\n    if (next > 1) {\n      this.style.gridRowEnd = `span ${next}`\n    } else {\n      this.style.gridRowEnd = ''\n    }\n  }\n\n  focusItem(focused = true): void {\n    this.toggleAttribute('focused', Boolean(focused))\n  }\n\n  handleFocus = (e: FocusEvent): void => {\n    if (e.target === this) {\n      this.focusItem(true)\n    }\n  }\n\n  handleBlur = (e: FocusEvent): void => {\n    if (e.target === this) {\n      this.focusItem(false)\n    }\n  }\n\n  handleClick = (e: MouseEvent): void => {\n    if (e.target !== this) {\n      return\n    }\n\n    this.tabIndex = 0\n  }\n\n  handleCollpase(e: MouseEvent): void {\n    e.preventDefault()\n    e.stopPropagation()\n    this.open = !this.open\n  }\n\n  render(): TemplateResult {\n    const collapseBtn = html`\n      <svg class=\"arrow-right\" viewBox=\"0 0 12 12\" width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m9 6-6 5.5V.5z\" fill-rule=\"evenodd\" />\n      </svg>\n    `\n    const expandBtn = html`<svg\n      viewBox=\"0 0 12 12\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"12\"\n      height=\"12\"\n      xmlns:v=\"https://vecta.io/nano\"\n    >\n      <path d=\"M6 9L.5 3h11z\" fill-rule=\"evenodd\" />\n    </svg>`\n\n    return html`\n      ${before()}\n      ${this.collpase\n        ? html`\n            <button class=\"collpase-button\" part=\"collpase-button\" tabindex=\"-1\" @click=\"${this.handleCollpase}\">\n              ${this.open\n                ? html`<slot name=\"collapse-button\">${expandBtn}</slot>`\n                : html`<slot name=\"expand-button\">${collapseBtn}</slot>`}\n            </button>\n          `\n        : null}\n      <slot></slot>\n      ${after()}\n      <span class=\"fc-focus-overlay\"></span>\n    `\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { FCDataGridCell } from '../data-grid-cell'\nimport { assignedElements, ignoreInitChanged, observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { onEvent, setCSSText } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\n@customElement('fc-data-grid-row')\nexport class FCDataGridRow extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'open', this.handleOpen)\n  }\n\n  @observer<FCDataGridRow, FCDataGridCell[]>({ attribute: false })\n  @assignedElements()\n  cells = [] as FCDataGridCell[]\n  cellsChanged(old: FCDataGridCell[], next: FCDataGridCell[]): void {\n    next.forEach((c, i) => {\n      c.colIndex = i + 1\n    })\n    this.emit('cellsChanged')\n  }\n\n  @observer({ attribute: false })\n  @assignedElements('slot[name=\"collapse\"]')\n  collapseCells = [] as FCDataGridCell[]\n  collapseCellsChanged(old: FCDataGridCell[], next: FCDataGridCell[]): void {\n    if (next.length && this.cells.length) {\n      this.cells[0].collpase = true\n      setCSSText(this.cells[this.cells.length - 1], { '--grid-border-right-width': '0' })\n    }\n  }\n\n  @observer({ reflect: true })\n  open = false\n\n  @observer<FCDataGridRow>({\n    reflect: true,\n    hasChanged: ignoreInitChanged,\n    init: host => (host.slot === 'row-header' ? 'rowheader' : 'row'),\n  })\n  role = 'row'\n  roleChanged(old: string, next: string): void {\n    if (next === 'rowheader') {\n      this.cells.forEach(cell => {\n        cell.role = 'columnheader'\n      })\n    }\n  }\n\n  @observer()\n  rowIndex = -1\n  rowIndexChanged(old: number, next: number): void {\n    if (next >= 0) {\n      this.setAttribute('aria-rowindex', this.rowIndex.toString())\n    }\n  }\n\n  @observer<FCDataGridRow, FCDataGridCell[]>({\n    init(host) {\n      return Array.from(host.querySelectorAll<FCDataGridCell>('fc-data-grid-cell[slot=\"row-index\"]'))\n    },\n  })\n  rowIndexElements = [] as FCDataGridCell[]\n  rowIndexElementsChanged(): void {\n    this.cells = Array.from(this.querySelectorAll('fc-data-grid-cell:not([slot])'))\n  }\n\n  @observer<FCDataGridRow, boolean>({ reflect: true })\n  sortable = this.hasAttribute('sortable')\n  sortableChanged(old: boolean, next: boolean): void {\n    this.cells.forEach(c => {\n      c.sortable = next\n    })\n  }\n\n  handleOpen(e: Event): void {\n    if (e.target instanceof FCDataGridCell) {\n      this.open = e.target.open\n    }\n  }\n\n  render(): TemplateResult {\n    return html`\n      ${before()}\n      <slot></slot>\n      <slot name=\"collapse\"></slot>\n      ${after()}\n    `\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport '../data-grid-cell'\nimport { FCDataGridCell } from '../data-grid-cell'\nimport '../data-grid-row'\nimport { FCDataGridRow } from '../data-grid-row'\nimport { observer, queryAll } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { clamp, focusFirstOrNext, onEvent, setCSSText } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\ntype SortType = 'desc' | 'asc'\n\n@customElement('fc-data-grid')\n/**\n * @description data-grid 是 grid 的一种表形式，有别于另一种 layout-grid\n */\nexport class FCDataGrid extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    onEvent(this, 'keydown', this.handleKeydown)\n    onEvent(this, 'click', this.handleClick)\n  }\n\n  @observer({ attribute: false })\n  activeElement?: FCDataGridCell | null\n  private activeElementChanged(old?: FCDataGridCell, next?: FCDataGridCell): void {\n    if (old) old.tabIndex = -1\n    if (!next) return\n\n    next.tabIndex = 0\n    const { rows } = this\n    if (!rows) return\n    const rowIdx = rows.findIndex(r => r.contains(next))\n    const activeRow = rows[rowIdx]\n    this.activeRow = activeRow?.cells\n    const colIdx = activeRow?.cells?.findIndex(r => r === next) ?? -1\n    this.activeCol = rows.map(r => r.cells?.[colIdx]).filter(v => !!v) as FCDataGridCell[]\n  }\n\n  activeRow?: FCDataGridCell[]\n\n  activeCol?: FCDataGridCell[]\n\n  @observer({ reflect: true })\n  grid = false\n\n  @observer({ reflect: true })\n  outline = false\n\n  @observer({ reflect: true })\n  role = 'grid'\n\n  @observer({ reflect: true })\n  sticky = false\n\n  @observer({ attribute: 'max-rows' })\n  maxRows = -1\n  maxRowsChanged(old: number, next: number): void {\n    if (next > 0) {\n      this.setAttribute('max-rows', next.toString())\n    } else {\n      this.removeAttribute('max-rows')\n    }\n  }\n\n  @observer({ attribute: false })\n  @queryAll('[slot=row-header]')\n  rowHeader?: FCDataGridRow[]\n\n  @observer({ attribute: false })\n  @queryAll('fc-data-grid-row')\n  rows?: FCDataGridRow[]\n  rowsChanged(old?: FCDataGridRow[], next = [] as FCDataGridRow[]): void {\n    const { maxRows, rowHeader = [] } = this\n\n    if (!this.activeElement && next.length) {\n      this.updateComplete.then(() => {\n        this.activeElement = next[0].querySelector<FCDataGridCell>('fc-data-grid-cell')\n      })\n    }\n\n    const ps = [] as Promise<unknown>[]\n    const dataIndexOffset = Number(!rowHeader.length)\n    next.forEach((r, i) => {\n      r.rowIndex = i + 1\n      r.dataset.index = (i + dataIndexOffset).toString()\n      ps.push(r.updateComplete)\n    })\n    // Lit update is async\n    Promise.all(ps).then(() => this.handleSort())\n\n    const cellsList = next.map(r =>\n      r.cells.reduce((acc, cell) => {\n        acc += cell.colSpan\n        return acc\n      }, 0)\n    )\n    const maxColCount = Math.max(...cellsList, 0)\n    const maxRow = next?.[maxRows]\n    let maxHeight = ''\n    if (maxRow) {\n      maxHeight = maxRow.offsetTop + maxRow.offsetHeight + 'px'\n    }\n    setCSSText(this, {\n      'max-height': maxHeight,\n      '--grid-template-columns': `repeat(${maxColCount}, 1fr)`,\n    })\n    this.setAttribute('aria-rowcount', next.length.toString())\n    this.setAttribute('aria-colcount', maxColCount.toString())\n    this.colCount = maxColCount\n  }\n\n  private colCount = -1\n\n  @queryAll('fc-data-grid-row:not([slot])')\n  dataRows?: FCDataGridRow[]\n\n  @observer({ reflect: true })\n  sortIndex = -1\n  sortIndexChanged(old: number, next: number): void {\n    this.handleSort()\n  }\n\n  private handleSort = () => {\n    const { sortIndex, colCount, dataRows, ownerDocument } = this\n    if (sortIndex > 0 && sortIndex <= colCount && dataRows) {\n      const onSort = this.onSort.bind(this)\n      const srotedRows = dataRows.sort(onSort)\n      const docActiveElement = ownerDocument.activeElement\n      this.innerHTML = ''\n      const { rowHeader = [] } = this\n      const dataIndexOffset = Number(!rowHeader.length)\n      const rows = rowHeader.concat(srotedRows)\n\n      rows.forEach((r, i) => {\n        this.appendChild(r)\n        r.rowIndex = i + 1\n        r.setAttribute('data-index', (i + dataIndexOffset).toString())\n      })\n\n      if (!this.activeElement?.parentElement) {\n        this.activeElement = rows[0].cells[0]\n      }\n      if (docActiveElement === this.activeElement) {\n        this.activeElement.focus()\n      }\n\n      this.emit('sorted')\n    }\n  }\n\n  @observer({ reflect: true })\n  order?: SortType = 'asc'\n  orderChanged(old: SortType, next: SortType): void {\n    this.handleSort()\n  }\n\n  onSort(r1: FCDataGridRow, r2: FCDataGridRow): number {\n    const { sortIndex, order } = this\n    const ord = order === 'desc' ? -1 : 1\n    const c1 = r1.cells?.find(c => c.colIndex === sortIndex)?.textContent?.trim() || ''\n    const c2 = r2.cells?.find(c => c.colIndex === sortIndex)?.textContent?.trim() || ''\n    return c1 == c2 ? 0 : ord * c1?.localeCompare(c2, 'co', { numeric: true })\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    const { activeElement, activeRow, activeCol } = this\n    if (!(activeElement && activeRow && activeCol)) {\n      return\n    }\n\n    if (!(e.target instanceof FCDataGridCell)) {\n      return\n    }\n\n    switch (e.key) {\n      case 'Escape':\n        activeElement.blur()\n        break\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        this.focusNext(e)\n        break\n      case 'Enter':\n        this.handleClick(e)\n    }\n  }\n\n  private focusNext(e: KeyboardEvent) {\n    const { activeElement, activeRow, activeCol } = this\n    const actions = {\n      ArrowLeft: [activeRow, -1],\n      ArrowRight: [activeRow, 1],\n      ArrowUp: [activeCol, -1],\n      ArrowDown: [activeCol, 1],\n    } as Record<string, [FCDataGridCell[], number]>\n\n    const action = actions[e.key]\n    if (action) {\n      const [activeCells, delta] = action\n      const activeIdx = activeCells.findIndex(c => c === activeElement)\n      const { length } = activeCells\n      const boundary = clamp(0, length - 1, delta * length)\n      const mergedDelta = e.ctrlKey ? boundary - activeIdx : delta\n      const nextActiveElement = focusFirstOrNext(activeCells, mergedDelta, !e.altKey)\n      if (nextActiveElement) {\n        e.preventDefault()\n        nextActiveElement.scrollIntoView({ block: 'nearest' })\n        this.activeElement = nextActiveElement\n        const { offsetParent, offsetTop, offsetHeight } = nextActiveElement\n        if (offsetParent && offsetParent.scrollTop >= offsetTop) {\n          offsetParent.scrollTop -= offsetHeight\n        }\n      }\n    }\n  }\n\n  private handleClick(e: Event): void {\n    const { target } = e\n    if (!(target instanceof HTMLElement)) return\n\n    const closestCell = target.closest<FCDataGridCell>('fc-data-grid-cell')\n    if (closestCell) {\n      this.activeElement = closestCell\n\n      if (closestCell.sortable) {\n        const nextIndex = closestCell.colIndex\n        if (nextIndex !== this.sortIndex) {\n          this.sortIndex = nextIndex\n        } else {\n          this.order = this.order === 'desc' ? 'asc' : 'desc'\n        }\n      }\n    }\n  }\n\n  render(): TemplateResult {\n    return html`\n      <slot name=\"row-header\" sticky=\"${this.sticky}\"></slot>\n      <slot></slot>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-button id=\\\"btn-1\\\">button</fc-button>\\n<fc-dialog anchor=\\\"#btn-1\\\">\\n  <h3>奖学金申请 一</h3>\\n\\n  <div>\\n    <label for=\\\"money\\\"> 金额：</label>\\n    <fc-input id=\\\"money\\\" value=\\\"10000\\\"></fc-input>\\n  </div>\\n\\n  <div>\\n    <fc-radio>同意</fc-radio>\\n  </div>\\n\\n  <div>\\n    <fc-checkbox>同意</fc-checkbox>\\n  </div>\\n</fc-dialog>\\n\\n<h4>背景不可关闭</h4>\\n<fc-button id=\\\"btn-2\\\">背景不可关闭</fc-button>\\n<fc-dialog anchor=\\\"#btn-2\\\" overlay-closable=\\\"false\\\">\\n  <h3>奖学金申请 二</h3>\\n\\n  <div>\\n    <label for=\\\"money\\\"> 金额：</label>\\n    <fc-input id=\\\"money\\\" value=\\\"10000\\\"></fc-input>\\n  </div>\\n\\n  <div>\\n    <fc-radio>同意</fc-radio>\\n  </div>\\n\\n  <div>\\n    <fc-checkbox>同意</fc-checkbox>\\n  </div>\\n</fc-dialog>\\n\\n<h4>esc 不可关闭</h4>\\n<fc-button id=\\\"btn-3\\\">esc 不可关闭</fc-button>\\n<fc-dialog anchor=\\\"#btn-3\\\" esc-closable=\\\"false\\\">\\n  <h3>奖学金申请 三</h3>\\n\\n  <div>\\n    <label for=\\\"money\\\"> 金额：</label>\\n    <fc-input id=\\\"money\\\" value=\\\"10000\\\"></fc-input>\\n  </div>\\n\\n  <div>\\n    <fc-radio>同意</fc-radio>\\n  </div>\\n\\n  <div>\\n    <fc-checkbox>同意</fc-checkbox>\\n  </div>\\n</fc-dialog>\\n\\n<h4>没有背景</h4>\\n<fc-button id=\\\"btn-4\\\">click me</fc-button>\\n<fc-dialog anchor=\\\"#btn-4\\\" esc-closable modal=\\\"false\\\">\\n  <h3>奖学金申请 四</h3>\\n\\n  <div>\\n    <label for=\\\"money\\\"> 金额：</label>\\n    <fc-input id=\\\"money\\\" value=\\\"10000\\\"></fc-input>\\n  </div>\\n\\n  <div>\\n    <fc-radio>同意</fc-radio>\\n  </div>\\n\\n  <div>\\n    <fc-checkbox>同意</fc-checkbox>\\n  </div>\\n</fc-dialog>\\n\\n<h4>与 fc-panel 一起使用</h4>\\n\\n<fc-button id=\\\"btn-5\\\">click me</fc-button>\\n<fc-dialog anchor=\\\"#btn-5\\\" id=\\\"dialog-5\\\">\\n  <fc-panel>\\n    <fc-panel-header slot=\\\"panel-header\\\" closeTarget=\\\"#dialog-5\\\">奖学金申请</fc-panel-header>\\n    <div>\\n      <label for=\\\"money\\\"> 金额：</label>\\n      <fc-input id=\\\"money\\\" value=\\\"10000\\\"></fc-input>\\n    </div>\\n\\n    <div>\\n      <fc-radio>同意</fc-radio>\\n    </div>\\n\\n    <div>\\n      <fc-checkbox>同意</fc-checkbox>\\n    </div>\\n  </fc-panel>\\n</fc-dialog>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\n@customElement('fc-dialog')\nexport class FCDialog extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    onEvent(this, 'keydown', this.handleKeydown)\n    onEvent(this, 'close', this.handleClose)\n  }\n\n  @observer({ initCallback: true })\n  anchor: string | null = this.getAttribute('anchor')\n  anchorChanged(): void {\n    const { anchor } = this\n    if (anchor) {\n      // removeEventListener on old elements\n      this.anchorElements?.forEach(e => e.removeEventListener('click', this.handleClick))\n      this.anchorElements = Array.from(this.renderRoot.ownerDocument.querySelectorAll(anchor))\n      // addEventListener on new elements\n      this.anchorElements.forEach(e => e.addEventListener('click', this.handleClick))\n    }\n  }\n\n  @observer({ reflect: true })\n  modal = true\n\n  @observer({ attribute: 'overlay-closable' })\n  overlayClosable = true\n\n  @observer({ reflect: true })\n  tabindex = '-1'\n\n  @observer({ attribute: 'esc-closable' })\n  escClosable = true\n\n  private anchorElements?: HTMLElement[] | null\n  private currentAnchorElement?: HTMLElement | null\n\n  @observer({ reflect: true })\n  hidden = true\n  hiddenChanged(old: boolean, next: boolean): void {\n    if (!next) {\n      this.updateComplete.then(() => {\n        this.focus()\n      })\n    }\n    if (typeof old === 'boolean') {\n      this.emit('change', { old, next })\n      this.emit('visibleChange', { old, next })\n    }\n  }\n\n  @observer({ reflect: true })\n  role = 'dialog'\n\n  show(): void {\n    this.hidden = false\n  }\n\n  hide(): void {\n    this.hidden = true\n  }\n\n  handleClick = (e: MouseEvent): void => {\n    const { target } = e\n    const { anchor } = this\n\n    if (target instanceof HTMLElement && anchor && target.closest(anchor)) {\n      e.preventDefault()\n      this.hidden = false\n    }\n  }\n\n  handleKeydown = (e: KeyboardEvent): void => {\n    if (this.escClosable && e.key === 'Escape' && e.target === this) {\n      e.preventDefault()\n      this.hidden = true\n    }\n  }\n\n  handleClose(e: Event): void {\n    const matched = e instanceof CustomEvent && e.detail && this.matches(e.detail)\n    if (matched) {\n      this.hidden = true\n    }\n  }\n\n  handleClickOverlay = (e: MouseEvent): void => {\n    e.preventDefault()\n    if (this.overlayClosable) {\n      this.hidden = true\n      this.emit('dismiss')\n    }\n  }\n\n  render(): TemplateResult<1> {\n    return html`\n      ${this.modal\n        ? html`<div\n            class=\"overlay\"\n            part=\"overlay\"\n            role=\"presentation\"\n            tabindex=\"0\"\n            @click=\"${this.handleClickOverlay}\"\n          ></div>`\n        : ''}\n      <div class=\"control\" part=\"control\" role=\"dialog\">\n        <slot name=\"dialog-header\"></slot>\n        <slot></slot>\n      </div>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-dropdown>\\n  <div>foo</div>\\n  <div>bar</div>\\n  <div>baz</div>\\n</fc-dropdown>\\n\\n<h4>指定 button</h4>\\n<fc-dropdown>\\n  <fc-button slot=\\\"button\\\">dropdown</fc-button>\\n  <ul style=\\\"color: white; list-style: none; margin: 0; padding: 12px; width: 100px\\\">\\n    <li>menu-1</li>\\n    <li>menu-2</li>\\n    <li>menu-3</li>\\n  </ul>\\n</fc-dropdown>\\n\\n<h4>自动关闭</h4>\\n<fc-dropdown>\\n  <fc-button slot=\\\"button\\\">默认会自动关闭</fc-button>\\n  <fc-listbox>\\n    <fc-list-option>option-1</fc-list-option>\\n    <fc-list-option>option-2</fc-list-option>\\n    <fc-list-option>option-3</fc-list-option>\\n  </fc-listbox>\\n</fc-dropdown>\\n\\n<fc-dropdown autoClose=\\\"false\\\">\\n  <fc-button slot=\\\"button\\\">阻止自动关闭</fc-button>\\n  <fc-listbox>\\n    <fc-list-option>option-1</fc-list-option>\\n    <fc-list-option>option-2</fc-list-option>\\n    <fc-list-option>option-3</fc-list-option>\\n  </fc-listbox>\\n</fc-dropdown>\\n\\n<h4>和 fc-menu 一起使用</h4>\\n<fc-dropdown>\\n  <fc-menu>\\n    <fc-menu-item role=\\\"menuitemcheckbox\\\">\\n      <span>menu-1</span>\\n      <fc-menu slot=\\\"submenu\\\">\\n        <fc-menu-item style=\\\"--padding: 8px\\\">\\n          <span slot=\\\"before\\\">😀</span>\\n          <div>menu-1-1</div>\\n        </fc-menu-item>\\n        <fc-menu-item style=\\\"--padding: 8px\\\">\\n          <span slot=\\\"before\\\">🎃</span>\\n          <div>menu-1-2</div>\\n        </fc-menu-item>\\n      </fc-menu>\\n    </fc-menu-item>\\n    <fc-menu-item role=\\\"menuitemcheckbox\\\">menu-2</fc-menu-item>\\n    <fc-menu-item role=\\\"menuitemcheckbox\\\">menu-3</fc-menu-item>\\n  </fc-menu>\\n</fc-dropdown>\\n\\n<h4>和 fc-listbox 一起使用</h4>\\n<fc-dropdown>\\n  <fc-listbox>\\n    <fc-list-option>option-1</fc-list-option>\\n    <fc-list-option>option-2</fc-list-option>\\n    <fc-list-option>option-3</fc-list-option>\\n  </fc-listbox>\\n</fc-dropdown>\\n\\n<h4>超长列表</h4>\\n<fc-dropdown>\\n  <fc-listbox>\\n    <fc-list-option>option-1</fc-list-option>\\n    <fc-list-option>option-2</fc-list-option>\\n    <fc-list-option>option-3</fc-list-option>\\n    <fc-list-option>option-4</fc-list-option>\\n    <fc-list-option>option-5</fc-list-option>\\n    <fc-list-option>option-6</fc-list-option>\\n    <fc-list-option>option-7</fc-list-option>\\n    <fc-list-option>option-8</fc-list-option>\\n    <fc-list-option>option-9</fc-list-option>\\n    <fc-list-option>option-10</fc-list-option>\\n    <fc-list-option>option-11</fc-list-option>\\n    <fc-list-option>option-12</fc-list-option>\\n    <fc-list-option>option-13</fc-list-option>\\n    <fc-list-option>option-14</fc-list-option>\\n    <fc-list-option>option-15</fc-list-option>\\n    <fc-list-option>option-16</fc-list-option>\\n    <fc-list-option>option-17</fc-list-option>\\n    <fc-list-option>option-18</fc-list-option>\\n    <fc-list-option>option-19</fc-list-option>\\n    <fc-list-option>option-20</fc-list-option>\\n  </fc-listbox>\\n</fc-dropdown>\\n\\n<h4>定位</h4>\\n<fc-dropdown placement=\\\"bottom\\\">\\n  <fc-button slot=\\\"button\\\">bottom</fc-button>\\n  <fc-listbox>\\n    <fc-list-option>option-1</fc-list-option>\\n    <fc-list-option>option-2</fc-list-option>\\n    <fc-list-option>option-3</fc-list-option>\\n  </fc-listbox>\\n</fc-dropdown>\\n\\n<fc-dropdown placement=\\\"top\\\">\\n  <fc-button slot=\\\"button\\\">top</fc-button>\\n  <fc-listbox>\\n    <fc-list-option>option-1</fc-list-option>\\n    <fc-list-option>option-2</fc-list-option>\\n    <fc-list-option>option-3</fc-list-option>\\n  </fc-listbox>\\n</fc-dropdown>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer, query } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { focusable, isHTMLElement, onEvent, tabbableElement } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\n@customElement('fc-dropdown')\nexport class FCDropdown extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    onEvent(this, 'click', this.handleClick)\n    onEvent(this, 'keydown', this.handleKeydown)\n    onEvent(this, 'focusout', this.handleFocusout)\n\n    this.updateComplete.then(() => {\n      const firstAssigned = this.firstAssigned\n      if (firstAssigned) {\n        if (!focusable(firstAssigned) && tabbableElement(firstAssigned)) {\n          firstAssigned.tabIndex = -1\n        }\n      }\n    })\n  }\n\n  @observer({ reflect: true })\n  disabled = false\n\n  get firstAssigned(): Element | undefined {\n    const assigned = this.slotElements.default?.assignedElements()\n    return assigned?.[0]\n  }\n\n  @query('.listbox', true)\n  listboxNode?: HTMLDivElement\n\n  @observer({ reflect: true })\n  open = false\n  openChanged(old: boolean, next: boolean): void {\n    if (next) {\n      const { height, bottom } = this.getBoundingClientRect()\n\n      this.updateComplete.then(() => {\n        const { firstAssigned } = this\n        if (!firstAssigned) return\n\n        if (focusable(firstAssigned)) {\n          firstAssigned.focus({ preventScroll: true })\n        } else if (isHTMLElement(firstAssigned)) {\n          firstAssigned.setAttribute('tabindex', '-1')\n          firstAssigned.focus({ preventScroll: true })\n        }\n\n        if (!this.listboxNode) return\n        let { placement } = this\n        const { height: listHeight } = this.slotElements.default.getBoundingClientRect()\n\n        if (placement === 'auto') {\n          placement = bottom + listHeight > window.innerHeight ? 'top' : 'bottom'\n        }\n        if (placement == 'top') {\n          this.listboxNode.style.marginTop = `${-1 * (height + listHeight)}px`\n        } else {\n          this.listboxNode.style.marginTop = ''\n        }\n      })\n    }\n\n    this.emit('change', { old, next })\n  }\n\n  /**\n   * 默认根据 listbox 展开后的定位自动调整的定位\n   */\n  @observer({ reflect: true })\n  placement = 'auto'\n\n  @observer()\n  placeholder = '请选择'\n\n  @observer<FCDropdown, string>({\n    reflect: true,\n    converter(v, host) {\n      if (host.listButton) return null\n      return v\n    },\n  })\n  tabindex = '0'\n\n  @query('[slot=\"button\"]')\n  listButton?: HTMLSlotElement\n\n  handleClick(event: MouseEvent): void {\n    if (event.defaultPrevented) {\n      return\n    }\n    this.open = !this.disabled\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    if (e.defaultPrevented) {\n      return\n    }\n    switch (e.key) {\n      case 'Enter':\n        this.click()\n        break\n      case 'Escape': {\n        const { firstAssigned } = this\n        if (isHTMLElement(firstAssigned)) {\n          firstAssigned.blur()\n        } else {\n          this.blur()\n        }\n        break\n      }\n      case ' ':\n      case 'ArrowDown':\n        if (!this.open && !this.disabled) {\n          e.preventDefault()\n          this.open = true\n        }\n        break\n    }\n  }\n\n  handleFocusout(event: FocusEvent): void {\n    const { relatedTarget } = event\n    if (!event.defaultPrevented && !(isHTMLElement(relatedTarget) && this.contains(relatedTarget))) {\n      this.open = false\n    }\n  }\n\n  @observer({ reflect: true })\n  autoClose = true\n  @observer({ reflect: true })\n  autoCloseDelay = 50\n\n  handleClose(): void {\n    if (!this.autoClose) return\n    if (this.autoCloseDelay) {\n      setTimeout(() => {\n        this.open = false\n      }, this.autoCloseDelay)\n    } else {\n      this.open = false\n    }\n  }\n\n  render(): TemplateResult {\n    return html`\n      ${before()}\n      <slot name=\"button\" aria-haspopup=\"listbox\" aria-expanded=\"${this.open}\">\n        <button class=\"button\" part=\"button\" role=\"button\">${this.placeholder}</button>\n      </slot>\n\n      <div\n        class=\"listbox fc-inner-outline\"\n        part=\"listbox\"\n        tabindex=\"0\"\n        role=\"listbox\"\n        aria-label=\"${this.placeholder}\"\n        aria-hidden=\"${!this.open}\"\n        @click=\"${this.handleClose}\"\n      >\n        <slot></slot>\n      </div>\n      ${after()}\n    `\n  }\n}\n","export default \"<fc-icon>🚗</fc-icon>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\n@customElement('fc-icon')\nexport class FCIcon extends FC {\n  static styles = mergeStyles(style)\n\n  render(): TemplateResult<1> {\n    return html`<slot part=\"control\"></slot>`\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-input></fc-input>\\n\\n<h4>直角</h4>\\n<fc-input sharp></fc-input>\\n\\n<h4>带边框</h4>\\n<fc-input outline placeholder=\\\"outline\\\"></fc-input>\\n\\n<h4>占位符</h4>\\n<fc-input placeholder=\\\"placeholder\\\"></fc-input>\\n\\n<h4>disabled</h4>\\n<fc-input disabled placeholder=\\\"disabled\\\"></fc-input>\\n\\n<h4>指定 type 属性</h4>\\n<fc-input type=\\\"number\\\" placeholder=\\\"type: number\\\"></fc-input>\\n\\n<h4>before</h4>\\n<fc-input><span slot=\\\"before\\\">🚗</span></fc-input>\\n\\n<h4>after</h4>\\n<fc-input><span slot=\\\"after\\\">🚜</span></fc-input>\\n\\n<h4>带 label</h4>\\n<fc-input label=\\\"foo\\\">foo</fc-input>\\n<fc-input>\\n  <span slot=\\\"label\\\">bar</span>\\n  <span>bar</span>\\n</fc-input>\\n\\n<h4>label 与 input 垂直展示</h4>\\n<fc-input label=\\\"foo\\\" orientation=\\\"vertical\\\">foo</fc-input>\\n<fc-input orientation=\\\"vertical\\\">\\n  <span slot=\\\"label\\\">bar</span>\\n  <span>bar</span>\\n</fc-input>\\n\\n<h4>与 form 一起使用</h4>\\n<form action=\\\"#\\\">\\n  <fc-input required name=\\\"foo\\\"></fc-input>\\n  <fc-input required name=\\\"bar\\\" type=\\\"file\\\"></fc-input>\\n  <input type=\\\"submit\\\" />\\n</form>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport FormAssociated from '../form-associated'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\n@customElement('fc-input')\nexport class FCInput extends FormAssociated {\n  static styles = mergeStyles(style)\n\n  get shadowInput(): HTMLInputElement | null | undefined {\n    return this.proxy instanceof HTMLInputElement ? this.proxy : null\n  }\n\n  attributeChangedCallback(name: string, old: string | null, next: string | null): void {\n    super.attributeChangedCallback(name, old, next)\n    const proxyKeys = [\n      'type',\n      'name',\n      'value',\n      'placeholder',\n      'autofocus',\n      'checked',\n      'disabled',\n      'form',\n      'formaction',\n      'formtarget',\n      'formnovalidate',\n      'height',\n      'list',\n      'max',\n      'maxlength',\n      'min',\n      'minlength',\n      'pattern',\n      'readonly',\n      'required',\n      'src',\n      'step',\n      'width',\n      'inputMode',\n    ]\n\n    if (proxyKeys.includes(name)) {\n      if (next) {\n        this.proxy.setAttribute(name, next)\n      } else {\n        this.proxy.removeAttribute(name)\n      }\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'focusin', this.handleFocusin)\n    onEvent(this, 'focusout', this.handleFocusout)\n    onEvent(this, 'click', this.handleClick)\n    onEvent(this, 'keydown', this.handleKeyDown)\n    this.attachProxy()\n    this.proxy.style.cssText = ''\n\n    if (this.autofocus && !document.activeElement) {\n      this.focus()\n    }\n\n    this.proxy.addEventListener('input', this.proxyInputHandler)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n\n    this.proxy.removeEventListener('input', this.proxyInputHandler)\n  }\n\n  @observer({ reflect: true })\n  accept = ''\n  acceptChanged(old: string, next: string): void {\n    if (this.proxy instanceof HTMLInputElement) {\n      this.proxy.accept = next\n    }\n  }\n\n  // 重写 blur 方法\n  blur(): void {\n    this.shadowInput?.blur()\n    this.$emit('blur', { bubbles: false, composed: true })\n  }\n\n  @observer()\n  outline = false\n\n  @observer()\n  type = 'text'\n  typeChanged(old: string, next: string): void {\n    if (this.proxy instanceof HTMLInputElement) {\n      this.proxy.type = next\n    }\n    if (next === 'file') {\n      this.placeholder = '请选择文件'\n    } else if (['number', 'text'].includes(next)) {\n      this.placeholder = '请输入'\n    }\n  }\n\n  @observer()\n  name = ''\n\n  @observer()\n  placeholder?: string\n\n  @observer()\n  autofocus = false\n\n  get files(): FileList | null | undefined {\n    if (this.proxy instanceof HTMLInputElement) {\n      return this.proxy.files\n    }\n  }\n\n  @observer()\n  checked = false\n\n  @observer()\n  disabled = false\n\n  @observer()\n  formaction?: string\n\n  @observer()\n  formenctype?: string\n\n  @observer()\n  formmethod?: string\n\n  @observer()\n  formnovalidate?: string\n\n  @observer()\n  formtarget?: string\n\n  @observer()\n  height?: string\n\n  @observer({ type: 'string' })\n  label?: string\n\n  @observer({ reflect: true })\n  orientation: 'vertical' | 'horizontal' = 'horizontal'\n\n  @observer()\n  list?: string\n\n  @observer()\n  max?: string\n\n  @observer()\n  maxlength?: string\n\n  @observer()\n  min?: string\n\n  @observer()\n  minlength?: string\n\n  @observer()\n  multiple = false\n  multipleChanged(old: boolean, next: boolean): void {\n    if (this.proxy instanceof HTMLInputElement) {\n      this.proxy.multiple = next\n    }\n  }\n\n  @observer()\n  pattern?: string\n\n  @observer()\n  readonly = false\n  protected readonlyChanged(): void {\n    this.classList.toggle('read-only', this.readonly)\n  }\n\n  select(): void {\n    this.shadowInput?.select()\n  }\n\n  @observer()\n  src = ''\n\n  @observer()\n  step?: string\n\n  @observer({ reflect: true })\n  tabIndex = 0\n\n  valueChanged(old: any, next: any): void {\n    super.valueChanged(old, next)\n    this.emit('change', { old, next })\n  }\n\n  @observer()\n  width?: string\n\n  #focused = false\n\n  handleFocusin(e: FocusEvent): void {\n    this.shadowInput?.focus()\n    this.#focused = true\n    this.requestUpdate()\n  }\n\n  handleFocusout(e: FocusEvent): void {\n    if (e.relatedTarget === this.shadowInput) {\n      e.stopPropagation()\n    }\n    if (this.#focused) {\n      this.shadowInput?.blur()\n    }\n    this.#focused = false\n    this.requestUpdate()\n  }\n\n  handleClick(e: MouseEvent): void {\n    if (this.proxy) {\n      this.proxy.click()\n    }\n  }\n\n  handleKeyDown(e: KeyboardEvent): void {\n    if (['Enter', ' '].includes(e.key)) {\n      this.click()\n    }\n  }\n\n  proxyInputHandler = (e: Event): void => {\n    e.stopPropagation()\n    e.stopImmediatePropagation()\n    this.$emit('input', { composed: true, detail: { originalEvent: e } })\n  }\n\n  render(): TemplateResult {\n    return html`\n      <slot name=\"label\">${this.label ? html`<span class=\"label\">${this.label}</span` : null}</slot>\n      <div class=\"control fc-focusin-outline\" part=\"control\" focused=\"${this.#focused}\">\n        ${before()}\n        ${this.type === 'file'\n          ? html`<slot has-value=\"${!!this.value}\">${this.value || this.placeholder}</slot>`\n          : html`<slot name=\"form-associated-proxy\"></slot>`}\n        ${after()}\n      </div>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-link href=\\\"#\\\">fc-component</fc-link>\\n\\n<h4>禁用</h4>\\n<fc-link href=\\\"#\\\" disabled>fc-component</fc-link>\\n\\n<h4>外观</h4>\\n<fc-link appearance=\\\"button\\\" href=\\\"https://twitter.com\\\">按钮样式</fc-link>\\n<fc-link appearance=\\\"text\\\" href=\\\"https://www.google.com/\\\">文本样式</fc-link>\\n\\n<h4>下载</h4>\\n<p>\\n  这是\\n  <fc-link appearance=\\\"text\\\" href=\\\"/?path=/story/select--select\\\" download=\\\"select.html\\\">fc-select</fc-link>\\n  的下载地址\\n</p>\\n\\n<p>这是个没有[href]属性的 <fc-link appearance=\\\"text\\\">fc-link</fc-link></p>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { ifDefined } from 'lit/directives/if-defined.js'\nimport { observer, query, reflectAttribute } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\n@customElement('fc-link')\nexport class FCLink extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'click', this.handleClick)\n    onEvent(this, 'keydown', this.handleKeydown)\n  }\n\n  @observer({ reflect: true })\n  appearance = 'button'\n\n  @observer({ reflect: true, initCallback: true })\n  download = ''\n  downloadChanged(old: string, next: string): void {\n    if (this.control) {\n      reflectAttribute(this.control, 'download', next, false)\n    }\n  }\n\n  @observer({ reflect: true, initCallback: true })\n  href = ''\n  hrefChanged(old: string, next: string): void {\n    if (this.control) {\n      reflectAttribute(this.control, 'href', next, false)\n    }\n  }\n\n  @observer()\n  hreflang = ''\n\n  @observer()\n  ping = ''\n\n  @observer()\n  ref = ''\n\n  @observer({ reflect: true })\n  role = 'link'\n\n  @observer()\n  target = ''\n\n  @observer({ reflect: true })\n  tabindex = '0'\n\n  @observer()\n  type = ''\n\n  @query('a', true)\n  shadowAnchor?: HTMLAnchorElement\n\n  handleClick(e: MouseEvent): void {\n    if (this.shadowAnchor) {\n      this.shadowAnchor.click()\n    }\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    if (e.key === 'Enter') {\n      this.click()\n    }\n  }\n\n  render(): TemplateResult<1> {\n    return html`<a\n      class=\"control\"\n      part=\"control\"\n      tabindex=\"-1\"\n      .download=\"${this.download}\"\n      .href=\"${ifDefined(this.href)}\"\n      .hreflang=\"${this.hreflang}\"\n      .ping=\"${this.ping}\"\n      .ref=\"${this.ref}\"\n      .target=\"${this.target}\"\n      .type=\"${this.type}\"\n      class=\"control\"\n      part=\"control\"\n      part=\"control\"\n    >\n      ${before()}\n      <span part=\"content\"><slot></slot></span>\n      ${after()}\n    </a>`\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-list-option>苹果</fc-list-option>\\n\\n<h4>设置 value</h4>\\n<fc-list-option value=\\\"foo\\\">foo</fc-list-option>\\n<fc-list-option value=\\\"bar\\\"></fc-list-option>\\n\\n<h4>默认选中</h4>\\n<fc-list-option selected>苹果</fc-list-option>\\n\\n<h4>禁用</h4>\\n<fc-list-option disabled>苹果</fc-list-option>\\n<fc-list-option selected disabled>苹果</fc-list-option>\\n\\n<h4>不可见</h4>\\n<fc-list-option>苹果</fc-list-option>\\n<fc-list-option hidden>橘子</fc-list-option>\\n\\n<p>橘子被隐藏了</p>\\n\"","export default \"<h4>正常使用</h4>\\n<fc-listbox>\\n  <fc-list-option value=\\\"apple\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"banana\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"orange\\\">橘子</fc-list-option>\\n  <fc-list-option value=\\\"pear\\\">李子</fc-list-option>\\n</fc-listbox>\\n\\n<h4>默认值</h4>\\n<p>试试用 <kbd>↑</kbd> <kbd>↓</kbd> 键去选择</p>\\n<fc-listbox value=\\\"banana\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"apple\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"banana\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"orange\\\">橘子</fc-list-option>\\n  <fc-list-option value=\\\"pear\\\">李子</fc-list-option>\\n</fc-listbox>\\n\\n<h4>包括不可用选项</h4>\\n<fc-listbox>\\n  <fc-list-option>苹果</fc-list-option>\\n  <fc-list-option>香蕉</fc-list-option>\\n  <fc-list-option disabled>橘子</fc-list-option>\\n  <fc-list-option>李子</fc-list-option>\\n</fc-listbox>\\n\\n<h4>不可选</h4>\\n<fc-listbox selectable=\\\"false\\\" value=\\\"banana\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"apple\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"banana\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"orange\\\">橘子</fc-list-option>\\n  <fc-list-option value=\\\"pear\\\">李子</fc-list-option>\\n</fc-listbox>\\n\\n<h4>禁用</h4>\\n<fc-listbox disabled value=\\\"banana\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"apple\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"banana\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"orange\\\">橘子</fc-list-option>\\n  <fc-list-option value=\\\"pear\\\">李子</fc-list-option>\\n</fc-listbox>\\n\\n<h4>隐藏项</h4>\\n<fc-listbox>\\n  <fc-list-option>苹果</fc-list-option>\\n  <fc-list-option>香蕉</fc-list-option>\\n  <fc-list-option>橘子</fc-list-option>\\n  <fc-list-option hidden>龙眼</fc-list-option>\\n  <fc-list-option hidden>菠萝</fc-list-option>\\n  <fc-list-option hidden>荔枝</fc-list-option>\\n  <fc-list-option>李子</fc-list-option>\\n</fc-listbox>\\n<p>有几个热带水果被雪藏了</p>\\n\\n<h4>键入以定位</h4>\\n<p>点击这里，然后按 <kbd>Tab</kbd> 让下面的 listbox 获取焦点，然后按下 <kbd>f</kbd>，或按两下<kbd>b</kbd> 键</p>\\n<fc-listbox>\\n  <fc-list-option>Foo</fc-list-option>\\n  <fc-list-option>Bar</fc-list-option>\\n  <fc-list-option>Baz</fc-list-option>\\n</fc-listbox>\\n\"","export default \"<h4>简单使用</h4>\\n<fc-menu-item>烧饼</fc-menu-item>\\n\\n<h4>不可用（disabled）</h4>\\n<fc-menu-item disabled>烧饼</fc-menu-item>\\n\\n<h4>before/after</h4>\\n<fc-menu-item>\\n  <span slot=\\\"before\\\">🥮</span>\\n  月饼\\n</fc-menu-item>\\n\\n<br />\\n\\n<fc-menu-item>\\n  <span slot=\\\"after\\\">￥10</span>\\n  月饼\\n</fc-menu-item>\\n\\n<br />\\n\\n<fc-menu-item>\\n  <span slot=\\\"before\\\">广式</span>\\n  月饼\\n  <span slot=\\\"after\\\">￥10</span>\\n</fc-menu-item>\\n\\n<h4>checkbox</h4>\\n<fc-menu-item role=\\\"menuitemcheckbox\\\">同意</fc-menu-item>\\n\\n<h4>radio</h4>\\n<fc-menu-item role=\\\"menuitemradio\\\">同意</fc-menu-item>\\n\\n<h4>链接</h4>\\n<fc-menu-item href=\\\"#menu-item\\\">链接 <span slot=\\\"after\\\">点击跳转</span></fc-menu-item>\\n\\n<h4>子菜单</h4>\\n<fc-menu-item style=\\\"display: inline-flex\\\">\\n  <span>水果</span>\\n  <fc-menu slot=\\\"submenu\\\">\\n    <fc-menu-item>苹果</fc-menu-item>\\n    <fc-menu-item>香蕉</fc-menu-item>\\n  </fc-menu>\\n</fc-menu-item>\\n\\n<p>默认展开</p>\\n<fc-menu-item expanded style=\\\"display: inline-flex\\\">\\n  <span>水果</span>\\n  <fc-menu slot=\\\"submenu\\\">\\n    <fc-menu-item>苹果</fc-menu-item>\\n    <fc-menu-item>香蕉</fc-menu-item>\\n  </fc-menu>\\n</fc-menu-item>\\n\\n<br />\\n<br />\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport checkboxStyle from '../checkbox/style.css'\nimport { observer, queryAll } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { onEvent } from '../helper'\nimport type { FCMenu } from '../menu'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport radioStyle from '../radio/style.css'\nimport style from './style.css'\n\nconst InputRoles = ['menuitemradio', 'menuitemcheckbox']\n\nexport const isMenuItem = (e: unknown): e is FCMenuItem =>\n  e instanceof FCMenuItem || (e instanceof Element && e.nodeName.toLowerCase() === 'fc-menu-item')\n\n@customElement('fc-menu-item')\nexport class FCMenuItem extends FC {\n  static styles = mergeStyles(radioStyle, checkboxStyle, style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'click', this.handleClick)\n  }\n\n  get isInputRole(): boolean {\n    return InputRoles.includes(this.role)\n  }\n\n  @observer<FCMenuItem>({\n    type: 'boolean',\n    hasChanged(oldValue, nextValue, host) {\n      return !host.disabled\n    },\n  })\n  checked = false\n  checkedChanged(oldValue: boolean | undefined, nextValue: boolean): void {\n    if (this.isInputRole) {\n      if (this.disabled) return\n      this.toggleAttribute('aria-checked', nextValue)\n      this.toggleAttribute('checked', nextValue)\n      if (typeof oldValue === 'boolean') {\n        this.emit('change')\n      }\n    } else {\n      this.removeAttribute('aria-checked')\n    }\n  }\n\n  @observer()\n  disabled = false\n\n  @observer({ type: 'string', reflect: true })\n  href?: string\n\n  @observer<FCMenuItem>({\n    reflect: true,\n    hasChanged(value, next, host) {\n      return value !== undefined && !host.disabled\n    },\n  })\n  expanded = this.hasAttribute('expanded')\n  expandedChanged(old: boolean, next: boolean): void {\n    this.setAttribute('aria-expanded', next.toString())\n  }\n\n  @observer({ reflect: true })\n  role = this.getAttribute('role') ?? 'menuitem'\n\n  @observer({ attribute: false })\n  @queryAll('[slot=\"submenu\"]')\n  submenu?: FCMenu[]\n\n  @observer({ reflect: true })\n  tabindex = this.getAttribute('tabindex') ?? '-1'\n\n  handleClick(e: MouseEvent): void {\n    if (e.target !== this) {\n      return\n    }\n    this.checked = !this.disabled && this.isInputRole && (this.role === 'menuitemradio' || !this.checked)\n  }\n\n  render(): TemplateResult {\n    return html`\n      ${before()}\n      ${this.isInputRole\n        ? html`<span class=\"input-container\" ?checkable=\"${this.isInputRole}\">\n            ${this.role === 'menuitemradio'\n              ? html`<slot name=\"radio-indicator\">\n                  <div class=\"radio control\" part=\"control\">\n                    <div class=\"checked-indicator\"></div>\n                  </div>\n                </slot>`\n              : null}\n            ${this.role === 'menuitemcheckbox'\n              ? html`<slot name=\"checkbox-indicator\">\n                  <div class=\"checkbox control\" part=\"control\">\n                    <slot name=\"default-indicator\">\n                      <div class=\"default-indicator\"></div>\n                    </slot>\n                    <slot name=\"checked-indicator\">\n                      <svg\n                        class=\"checked-indicator\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"12\"\n                        height=\"12\"\n                        fill-rule=\"evenodd\"\n                        xmlns:v=\"https://vecta.io/nano\"\n                      >\n                        <path d=\"M3.586 8.353l5.657-5.657 1.414 1.414L5 9.767z\" />\n                        <path d=\"M2.879 4.817l3.536 3.536L5 9.767 1.464 6.231z\" />\n                      </svg>\n                    </slot>\n                    <slot name=\"indeterminate-indicator\">\n                      <div class=\"indeterminate-indicator\"></div>\n                    </slot>\n                  </div>\n                </slot> `\n              : null}\n          </span>`\n        : null}\n      ${typeof this.href === 'string'\n        ? html`<a href=\"${this.href}\" class=\"content\" part=\"content\"><slot></slot></a>`\n        : html`<span class=\"content\" part=\"content\" tabindex=\"-1\"><slot></slot></span>`}\n      ${this.submenu?.length\n        ? html`<slot name=\"expand\"\n            ><svg class=\"arrow-right\" viewBox=\"0 0 12 12\" width=\"12\" height=\"12\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"m9 6-6 5.5V.5z\" fill-rule=\"evenodd\" /></svg\n          ></slot>`\n        : null}\n      ${after()} ${this.expanded ? html`<div class=\"submenu\" part=\"submenu\"><slot name=\"submenu\"></slot></div>` : null}\n      <span class=\"fc-inner-outline\"></span>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-menu>\\n  <fc-menu-item>苹果</fc-menu-item>\\n  <fc-menu-item>香蕉</fc-menu-item>\\n  <fc-menu-item>橘子</fc-menu-item>\\n  <fc-menu-item>梨</fc-menu-item>\\n</fc-menu>\\n\\n<h4>禁用选项</h4>\\n<fc-menu>\\n  <fc-menu-item>苹果</fc-menu-item>\\n  <fc-menu-item>香蕉</fc-menu-item>\\n  <fc-menu-item disabled>橘子</fc-menu-item>\\n  <fc-menu-item>梨</fc-menu-item>\\n</fc-menu>\\n\\n<h4>分割线</h4>\\n<fc-menu>\\n  <fc-menu-item>西红柿</fc-menu-item>\\n  <fc-menu-item>黄瓜</fc-menu-item>\\n  <fc-divider></fc-divider>\\n  <fc-menu-item>苹果</fc-menu-item>\\n  <fc-menu-item>香蕉</fc-menu-item>\\n</fc-menu>\\n\\n<h4>使用不同的 role/元素</h4>\\n<fc-menu>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\">苹果</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\">香蕉</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\" disabled>橘子</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\">梨</fc-menu-item>\\n</fc-menu>\\n\\n<fc-menu>\\n  <fc-menu-item role=\\\"menuitemradio\\\">苹果</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemradio\\\">香蕉</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemradio\\\" disabled>橘子</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemradio\\\">梨</fc-menu-item>\\n</fc-menu>\\n\\n<fc-menu>\\n  <fc-menu-item role=\\\"menuitem\\\" disabled>减肥宣言</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemradio\\\">少吃</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemradio\\\">多运动</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\">同意</fc-menu-item>\\n</fc-menu>\\n\\n<fc-menu>\\n  <div>我是 div</div>\\n  <fc-divider></fc-divider>\\n  <fc-link href=\\\"http://www.google.com/\\\">我的 link</fc-link>\\n  <fc-divider></fc-divider>\\n  <fc-button>我是按钮</fc-button>\\n</fc-menu>\\n\\n<h4>默认选中</h4>\\n<fc-menu>\\n  <fc-menu-item role=\\\"menuitem\\\" disabled>使用条款</fc-menu-item>\\n  <fc-divider></fc-divider>\\n  <fc-menu-item checked role=\\\"menuitemcheckbox\\\">你的就是我的</fc-menu-item>\\n  <fc-menu-item checked role=\\\"menuitemcheckbox\\\">我的还是我的</fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\">同意</fc-menu-item>\\n</fc-menu>\\n\\n<h4>before/after</h4>\\n<fc-menu>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\"><span slot=\\\"before\\\">🍎</span>苹果<span slot=\\\"after\\\">￥5.00</span></fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\"><span slot=\\\"before\\\">🍌</span>香蕉<span slot=\\\"after\\\">￥6.00</span></fc-menu-item>\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\" disabled\\n    ><span slot=\\\"before\\\">🍊</span>橘子<span slot=\\\"after\\\">无货</span></fc-menu-item\\n  >\\n  <fc-menu-item role=\\\"menuitemcheckbox\\\"><span slot=\\\"before\\\">🍐</span>梨<span slot=\\\"after\\\">￥4.00</span></fc-menu-item>\\n</fc-menu>\\n\\n<h4>子菜单</h4>\\n<fc-menu>\\n  <fc-menu-item>\\n    <span>水果</span>\\n    <fc-menu slot=\\\"submenu\\\">\\n      <fc-menu-item role=\\\"menuitemcheckbox\\\">苹果</fc-menu-item>\\n      <fc-menu-item>\\n        <span>香蕉</span>\\n        <fc-menu slot=\\\"submenu\\\">\\n          <fc-menu-item role=\\\"menuitemradio\\\">国产</fc-menu-item>\\n          <fc-menu-item role=\\\"menuitemradio\\\">进口</fc-menu-item>\\n        </fc-menu>\\n      </fc-menu-item>\\n    </fc-menu>\\n  </fc-menu-item>\\n  <fc-menu-item>\\n    <span>蔬菜</span>\\n    <fc-menu slot=\\\"submenu\\\">\\n      <fc-menu-item>茄子</fc-menu-item>\\n      <fc-menu-item>豆角</fc-menu-item>\\n    </fc-menu>\\n  </fc-menu-item>\\n  <fc-menu-item>\\n    <span>干果</span>\\n    <fc-menu slot=\\\"submenu\\\">\\n      <fc-menu-item>花生</fc-menu-item>\\n      <fc-menu-item>瓜子</fc-menu-item>\\n    </fc-menu>\\n  </fc-menu-item>\\n\\n  <fc-menu-item><span slot=\\\"after\\\">无货</span>药品</fc-menu-item>\\n</fc-menu>\\n<br />\\n<br />\\n\\n<h4>控制鼠标“悬停”展开子菜单的延迟时间(700ms)</h4>\\n<p>注意：在延迟之前点击可以直接展开</p>\\n<fc-menu mouseenterDelay=\\\"700\\\">\\n  <fc-menu-item>\\n    <span>水果</span>\\n    <fc-menu slot=\\\"submenu\\\">\\n      <fc-menu-item role=\\\"menuitemcheckbox\\\">苹果</fc-menu-item>\\n      <fc-menu-item>\\n        <span>香蕉</span>\\n        <fc-menu slot=\\\"submenu\\\">\\n          <fc-menu-item role=\\\"menuitemradio\\\">国产</fc-menu-item>\\n          <fc-menu-item role=\\\"menuitemradio\\\">进口</fc-menu-item>\\n        </fc-menu>\\n      </fc-menu-item>\\n    </fc-menu>\\n  </fc-menu-item>\\n  <fc-menu-item>\\n    <span>蔬菜</span>\\n    <fc-menu slot=\\\"submenu\\\">\\n      <fc-menu-item>茄子</fc-menu-item>\\n      <fc-menu-item>豆角</fc-menu-item>\\n    </fc-menu>\\n  </fc-menu-item>\\n  <fc-menu-item>\\n    <span>干果</span>\\n    <fc-menu slot=\\\"submenu\\\">\\n      <fc-menu-item>花生</fc-menu-item>\\n      <fc-menu-item>瓜子</fc-menu-item>\\n    </fc-menu>\\n  </fc-menu-item>\\n\\n  <fc-menu-item><span slot=\\\"after\\\">无货</span>药品</fc-menu-item>\\n</fc-menu>\\n<br />\\n<br />\\n\"","import { LitElement } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\n@customElement('fc-divider')\nexport class FCDivider extends LitElement {\n  @observer({ reflect: true })\n  role = 'separator'\n\n  static styles = mergeStyles(style)\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { debounce, DebouncedFunc, noop } from 'lodash-es'\nimport { assignedElements, ignoreInitChanged, observer } from '../decorators'\nimport '../divider'\nimport { FC } from '../fusion-component'\nimport { getNextFocusableElement, isHTMLElement, onEvent, setTopIndex, tabbableElement } from '../helper'\nimport '../menu-item'\nimport { FCMenuItem, isMenuItem } from '../menu-item'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\n@customElement('fc-menu')\nexport class FCMenu extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.setAttribute('aria-orientation', 'vertical')\n    this.setAttribute('aria-expanded', 'true')\n\n    onEvent(this, 'change', this.handleChange)\n    onEvent(this, 'click', this.handleClick)\n    onEvent(this, 'keydown', this.handleKeydown)\n    onEvent(this, 'mouseenter', this.handleMouseenter, true)\n    onEvent(this, 'mouseleave', this.handleMouseleave, true)\n    onEvent(this, 'focusout', this.handleFocusout)\n  }\n\n  setTopIndex(): HTMLElement | undefined {\n    return setTopIndex(this.items.filter(tabbableElement))\n  }\n\n  @observer({ reflect: true })\n  role = 'menu'\n\n  @observer({ reflect: true })\n  tabindex = '0'\n\n  @observer({ attribute: false })\n  @assignedElements()\n  items: Element[] = []\n  itemsChanged(old: FCMenuItem[], next: FCMenuItem[]): void {\n    if (!next) {\n      return\n    }\n    if (old && this.slot !== 'submenu') {\n      this.setTopIndex()\n    }\n  }\n\n  resetTabIndex(): void {\n    const avaliableItems = this.items\n    if (avaliableItems.length) {\n      avaliableItems.forEach(item => {\n        if (item.hasAttribute('tabindex')) {\n          item.setAttribute('tabindex', '-1')\n        }\n      })\n    }\n  }\n\n  private checkedRadio?: FCMenuItem\n\n  handleChange(event: Event): void {\n    const { target } = event\n    if (target instanceof FCMenuItem && target.role === 'menuitemradio' && target.checked) {\n      if (target !== this.checkedRadio) {\n        if (this.checkedRadio) this.checkedRadio.checked = false\n        this.checkedRadio = target\n      }\n    }\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    const { target } = e\n    if (!(isHTMLElement(target) && target.closest<FCMenu>('fc-menu') === this)) {\n      return\n    }\n\n    switch (e.key) {\n      case 'ArrowUp':\n        this.focusCurrentOrNext(e, -1)\n        break\n      case 'ArrowDown':\n        this.focusCurrentOrNext(e, 1)\n        break\n      case 'ArrowLeft':\n        this.unexpand(e)\n        break\n      case ' ':\n        this.toggleExpand(e)\n        break\n      case 'ArrowRight':\n        this.expand(e)\n        break\n      case 'Enter': {\n        if (isMenuItem(e.target)) {\n          e.target.dispatchEvent(new MouseEvent('click', { bubbles: false, composed: true }))\n        }\n        break\n      }\n      case 'Escape': {\n        if (isMenuItem(e.target)) {\n          e.target.blur()\n        }\n        break\n      }\n    }\n  }\n\n  focusCurrentOrNext(e: KeyboardEvent, delta: number): HTMLElement | undefined {\n    const { activeElement } = this.ownerDocument\n    const avaliableItems = this.items.filter(tabbableElement)\n    if (isHTMLElement(activeElement) && !avaliableItems.includes(activeElement)) {\n      return\n    }\n\n    const target = getNextFocusableElement(avaliableItems, delta)\n    if (target) {\n      e.preventDefault()\n      target.focus()\n    }\n    return target\n  }\n\n  private toggleExpand(e: KeyboardEvent) {\n    if (e.target instanceof FCMenuItem) {\n      if (e.target.expanded) e.target.expanded = false\n      else this.expand(e)\n    }\n  }\n\n  private expand(e: KeyboardEvent) {\n    e.preventDefault()\n    const { target } = e\n    if (target instanceof FCMenuItem) {\n      if (!target.submenu?.length) {\n        return\n      }\n      target.expanded = true\n      const submenu = target.submenu?.[0]\n      if (submenu) {\n        this.updateComplete.then(() => {\n          submenu.setTopIndex()?.focus()\n        })\n      }\n      return target\n    }\n  }\n\n  private unexpand(e: KeyboardEvent) {\n    e.preventDefault()\n    const { target } = e\n    if (target instanceof FCMenuItem) {\n      const parentItem = target.parentElement?.closest<FCMenuItem>('fc-menu-item')\n      if (parentItem instanceof FCMenuItem) {\n        parentItem.expanded = false\n        // parentItem.tabIndex = 0\n        parentItem.focus()\n        return parentItem\n      }\n    }\n  }\n\n  handleClick(e: MouseEvent): void {\n    const { target } = e\n    if (isMenuItem(target) && target.closest<FCMenu>('fc-menu') === this) {\n      target.expanded = true\n      const { activeElement } = document\n      if (activeElement instanceof HTMLElement && activeElement !== target && this.contains(activeElement)) {\n        const expandedItems = Array.from(this.querySelectorAll<FCMenuItem>('fc-menu-item[expanded]'))\n        expandedItems.forEach(item => {\n          item.focus()\n          item.expanded = false\n        })\n      }\n\n      target.focus()\n    }\n  }\n\n  @observer<FCMenu, number>({\n    attribute: false,\n    hasChanged: ignoreInitChanged,\n    converter(v) {\n      return Number(v) >= 0 ? v : 240\n    },\n  })\n  mouseenterDelay = 240\n  mouseenterDelayChanged(old: number, next: number): void {\n    this.removeEventListener('mouseenter', this.handleMouseenter, true)\n    if (next > 0) {\n      this.handleMouseenter = debounce(this.#handleMouseenter, next, { trailing: true })\n    } else {\n      const fn = this.#handleMouseenter as DebouncedFunc<(e: MouseEvent) => void>\n      fn.cancel = noop\n      fn.flush = noop\n      this.handleMouseenter = fn\n    }\n    onEvent(this, 'mouseenter', this.handleMouseenter, true)\n  }\n\n  #handleMouseenter(e: MouseEvent): void {\n    const { target } = e\n    if (!(isHTMLElement(target) && target.closest('fc-menu') === this)) {\n      return\n    }\n\n    this.items.find(item => {\n      if (isMenuItem(item) && item.expanded) {\n        item.expanded = false\n      }\n    })\n\n    const menuItem = target.closest<FCMenuItem>('fc-menu-item')\n    if (isMenuItem(menuItem) && !menuItem.disabled && menuItem.submenu?.length) {\n      menuItem.expanded = true\n      menuItem.focus()\n    }\n  }\n\n  handleMouseenter = debounce(\n    (e: MouseEvent) => {\n      this.#handleMouseenter(e)\n    },\n    this.mouseenterDelay,\n    { trailing: true }\n  )\n\n  handleMouseleave(e: MouseEvent): void {\n    const { target, relatedTarget } = e\n    if (target === this && !(isMenuItem(relatedTarget) && this.contains(relatedTarget))) {\n      this.handleMouseenter.cancel()\n    }\n    if (isMenuItem(relatedTarget) && isMenuItem(target) && !target.disabled && target.submenu?.length) {\n      target.focus()\n      target.expanded = false\n    }\n  }\n\n  handleFocusout(e: FocusEvent): void {\n    const { relatedTarget, currentTarget } = e\n    if (!(isHTMLElement(currentTarget) && currentTarget.closest('fc-menu'))) {\n      return\n    }\n\n    const parentItem = currentTarget.closest<FCMenuItem>('fc-menu-item')\n    if (parentItem && !(isHTMLElement(relatedTarget) && currentTarget.contains(relatedTarget))) {\n      parentItem.focus()\n      parentItem.expanded = false\n    }\n  }\n\n  render(): TemplateResult {\n    return html`\n      ${before()}\n      <slot></slot>\n      ${after()}\n    `\n  }\n}\n","export default \"<h4>默认值</h4>\\n<fc-number-field value=\\\"1\\\"></fc-number-field>\\n<fc-number-field value=\\\"a\\\" placeholder=\\\"类型错误的默认值\\\"></fc-number-field>\\n\\n<h4>输入过滤</h4>\\n<p>不接受输入非数字内容</p>\\n<fc-number-field></fc-number-field>\\n\\n<h4>四则运算</h4>\\n<p>输入 <code>1+2*3/4-5</code> 试试</p>\\n<fc-number-field></fc-number-field>\\n\\n<p>输入带括号的 <code>1+2*3/(4-5)</code> 试试</p>\\n<fc-number-field></fc-number-field>\\n\\n<h4>键盘调值</h4>\\n<p>按 <kbd>↑</kbd> 或者 <kbd>↓</kbd> 试试</p>\\n<p>还可以配合使用 <kbd>shift</kbd> 或 <kbd>alt</kbd></p>\\n<fc-number-field></fc-number-field>\\n\\n<h4>步值</h4>\\n<p>这里的步值为 <code>2</code></p>\\n<fc-number-field step=\\\"2\\\"></fc-number-field>\\n\\n<h4>最大、最小值</h4>\\n<fc-number-field placeholder=\\\"x>=-2\\\" min=\\\"-2\\\"></fc-number-field>\\n<fc-number-field placeholder=\\\"x<= 2\\\" max=\\\"2\\\"></fc-number-field>\\n<fc-number-field placeholder=\\\"-2<=x<=2\\\" min=\\\"-2\\\" max=\\\"2\\\"></fc-number-field>\\n\\n<fc-number-field max=\\\"10\\\" value=\\\"12\\\"></fc-number-field>\\n\\n<p>震动提示效果</p>\\n<fc-number-field vibrate placeholder=\\\"-2<=x<=2\\\" min=\\\"-2\\\" max=\\\"2\\\"></fc-number-field>\\n\\n<h4>显示单位</h4>\\n<p>带单位也能进行四则运算。输入 <kbd>+1</kbd> 或者 <kbd>+1px</kbd> 试试</p>\\n<fc-number-field value=\\\"12\\\" unit=\\\"px\\\" min=\\\"12\\\" step=\\\"2\\\" vibrate></fc-number-field>\\n\\n<h4>禁用</h4>\\n<fc-number-field value=\\\"12\\\" unit=\\\"px\\\" min=\\\"12\\\" step=\\\"2\\\" vibrate disabled></fc-number-field>\\n\\n<h4>只读</h4>\\n<fc-number-field value=\\\"12\\\" unit=\\\"px\\\" min=\\\"12\\\" step=\\\"2\\\" vibrate readonly></fc-number-field>\\n\\n<h4>使用 label</h4>\\n<fc-number-field label=\\\"foo\\\"></fc-number-field>\\n<fc-number-field>\\n  <span slot=\\\"label\\\">bar</span>\\n</fc-number-field>\\n\\n<p>垂直的 label</p>\\n<fc-number-field label=\\\"foo\\\" orientation=\\\"vertical\\\"></fc-number-field>\\n<fc-number-field orientation=\\\"vertical\\\">\\n  <span slot=\\\"label\\\">bar</span>\\n</fc-number-field>\\n\\n<h4>与 form 一起使用</h4>\\n<form action=\\\"#\\\">\\n  <fc-number-field required name=\\\"foo\\\"></fc-number-field>\\n  <input type=\\\"submit\\\" />\\n</form>\\n\"","import expCalc, { Formula, isDigit, isNumber, normalize, toNumber } from 'exp-calc'\nimport { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { onEvent } from '../helper'\nimport { FCInput } from '../input'\nimport inputStyle from '../input/style.css'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\nconst safeToNumber = (v: any) => (isDigit(v) ? toNumber(v) : NaN)\n\n@customElement('fc-number-field')\nexport class FCNumberFiled extends FCInput {\n  static styles = mergeStyles(inputStyle, style)\n\n  updateInputValue(value: string): void {\n    if (this.shadowInput) {\n      this.shadowInput.value = value\n    }\n    this.checkValidity()\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'keydown', this.handleKeydown)\n    this.shadowInput?.addEventListener('change', this.handleChange)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    this.shadowInput?.removeEventListener('change', this.handleChange)\n  }\n\n  normalize(): void {\n    this.value = normalize(this.value)\n  }\n\n  @observer()\n  max = this.getAttribute('max') ?? ''\n\n  @observer()\n  min = this.getAttribute('min') ?? ''\n\n  @observer({\n    converter(v) {\n      const n = Number(v)\n      return (n || 1).toString()\n    },\n  })\n  step = '1'\n\n  @observer()\n  unit = ''\n\n  @observer({ reflect: true })\n  vibrate = false\n\n  @observer<FCNumberFiled>({\n    init: false,\n    converter(v: string, host) {\n      if (!v) {\n        return v\n      }\n      if (!isDigit(v)) {\n        return ''\n      }\n\n      let n = toNumber(v)\n      const max = safeToNumber(host.max)\n      const min = safeToNumber(host.min)\n      if (isNumber(max)) {\n        n = Math.min(max, n)\n      }\n      if (isNumber(min)) {\n        n = Math.max(min, n)\n      }\n\n      return n.toString()\n    },\n  })\n  value = ''\n  valueChanged(old: string, next: string): void {\n    super.valueChanged(old, next)\n    if (this.shadowInput instanceof HTMLInputElement) {\n      this.shadowInput.value = next\n    }\n    this.updateInputValue(this.valueWithUnit)\n  }\n\n  public get valueWithUnit(): string {\n    return [this.value, this.unit].filter(v => v).join(' ')\n  }\n\n  public get number(): number {\n    return isDigit(this.value) ? Number(this.value) : NaN\n  }\n\n  handleChange = (e: Event): void => {\n    if (!(e.target instanceof HTMLInputElement)) {\n      return\n    }\n\n    const { unit } = this\n    const value = e.target.value.trim()\n    const valueWithoutUnit = unit ? value.replace(new RegExp('\\\\s*' + unit, 'g'), '') : value\n    this.classList.remove('expression-error')\n    try {\n      const computedResult = expCalc(valueWithoutUnit)\n      if (!isNaN(computedResult)) {\n        const nextValue = computedResult.toString()\n        this.value = nextValue\n        this.emit('change')\n      }\n    } catch (e) {\n      console.warn('计算出错', e)\n      this.classList.add('expression-error')\n      this.emit('expression-error', e)\n    }\n    this.updateInputValue(this.valueWithUnit)\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    const modify = e.ctrlKey ? 10 : e.shiftKey ? 0.1 : 1\n    const { step = '1' } = this\n    const stepValue = safeToNumber(step)\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault()\n        this.nextStep(stepValue * modify)\n        break\n      case 'ArrowDown':\n        e.preventDefault()\n        this.nextStep(stepValue * -1 * modify)\n        break\n    }\n  }\n\n  handleClickStep(director: 1 | -1): void {\n    if (!this.disabled) {\n      this.nextStep(director * toNumber(this.step))\n    }\n  }\n\n  nextStep(delta: number): void {\n    const number = this.value ? this.number : 0\n    const nextFormula = [number, '+', delta].reduce((acc, op) => acc.op(op), new Formula(100))\n    const max = safeToNumber(this.max)\n    const min = safeToNumber(this.min)\n    const n = nextFormula.value\n\n    if (max && n >= max) {\n      this.classList.remove('is-max')\n      this.updateComplete.then(() => this.classList.add('is-max'))\n      this.emit('is-max')\n    } else {\n      this.classList.remove('is-max')\n    }\n    if (min && n <= min) {\n      this.classList.remove('is-min')\n      this.updateComplete.then(() => this.classList.add('is-min'))\n      this.emit('is-min')\n    } else {\n      this.classList.remove('is-min')\n    }\n    if (this.number !== nextFormula.value) {\n      this.emit('change')\n    }\n    this.value = nextFormula.toString()\n  }\n\n  render(): TemplateResult<1> {\n    return html`\n      <slot name=\"label\">${this.label ? html`<span class=\"label\">${this.label}</span` : null}</slot>\n      <div class=\"control fc-focusin-outline\" part=\"controls\">\n        ${before()}\n        <slot name=\"form-associated-proxy\"></slot>\n        <div class=\"controls\" part=\"controls\">\n          <div class=\"step-up\" @click=\"${() => this.handleClickStep(1)}\"></div>\n          <div class=\"step-down\" @click=\"${() => this.handleClickStep(-1)}\"></div>\n        </div>\n        ${after()}\n      </div>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<p>点击关闭按钮会触发 <code>close</code> 事件</p>\\n<fc-panel>\\n  <fc-panel-header slot=\\\"panel-header\\\">海阔天空</fc-panel-header>\\n  <div>\\n    <p>今天我</p>\\n    <p>寒夜里看雪飘过</p>\\n    <p>怀着冷却了的心窝漂远方</p>\\n    <p>风雨里追赶</p>\\n    <p>雾里分不清影踪</p>\\n    <p>天空海阔你与我</p>\\n    <p>可会变(谁没在变)</p>\\n  </div>\\n</fc-panel>\\n\\n<h4>没有 header</h4>\\n<fc-panel>\\n  <div>\\n    <p>今天我</p>\\n    <p>寒夜里看雪飘过</p>\\n    <p>怀着冷却了的心窝漂远方</p>\\n    <p>风雨里追赶</p>\\n    <p>雾里分不清影踪</p>\\n    <p>天空海阔你与我</p>\\n    <p>可会变(谁没在变)</p>\\n  </div>\\n</fc-panel>\\n\\n<h4>使用 <code>header</code> 属性</h4>\\n<fc-panel header=\\\"海阔天空\\\">\\n  <div>\\n    <p>今天我</p>\\n    <p>寒夜里看雪飘过</p>\\n    <p>怀着冷却了的心窝漂远方</p>\\n    <p>风雨里追赶</p>\\n    <p>雾里分不清影踪</p>\\n    <p>天空海阔你与我</p>\\n    <p>可会变(谁没在变)</p>\\n  </div>\\n</fc-panel>\\n\\n<fc-panel header=\\\"海阔天空(隐藏关闭按钮)\\\" closable=\\\"false\\\">\\n  <div>\\n    <p>今天我</p>\\n    <p>寒夜里看雪飘过</p>\\n    <p>怀着冷却了的心窝漂远方</p>\\n    <p>风雨里追赶</p>\\n    <p>雾里分不清影踪</p>\\n    <p>天空海阔你与我</p>\\n    <p>可会变(谁没在变)</p>\\n  </div>\\n</fc-panel>\\n\\n<h4>简单使用</h4>\\n<p>不显示，切换显示状态会触发 <code>visibleChange</code> 事件</p>\\n<p>打开开发者工具查看隐藏起来的 <code>fc-panel</code> 元素</p>\\n<fc-panel hidden>\\n  <fc-panel-header slot=\\\"panel-header\\\">海阔天空</fc-panel-header>\\n  <div>\\n    <p>今天我</p>\\n    <p>寒夜里看雪飘过</p>\\n    <p>怀着冷却了的心窝漂远方</p>\\n    <p>风雨里追赶</p>\\n    <p>雾里分不清影踪</p>\\n    <p>天空海阔你与我</p>\\n    <p>可会变(谁没在变)</p>\\n  </div>\\n</fc-panel>\\n\\n<fc-button id=\\\"dialog-btn\\\">open dialog</fc-button>\\n<fc-dialog anchor=\\\"#dialog-btn\\\" id=\\\"dialog-1\\\">\\n  <fc-panel header=\\\"庄子\\\" closeTarget=\\\"#dialog-1\\\">\\n    <p>天地与我并生，而万物与我为一</p>\\n  </fc-panel>\\n</fc-dialog>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport mergeStyles from '../merge-styles'\n\nimport style from './style.css'\n\n@customElement('fc-panel-header')\nexport class FCPanelHeader extends FC {\n  static styles = mergeStyles(style)\n\n  @observer({ reflect: true })\n  closable = true\n\n  @observer()\n  closeTarget = ''\n\n  handleClick(e: MouseEvent): void {\n    e.preventDefault()\n    this.emit('close', this.closeTarget)\n  }\n\n  render(): TemplateResult {\n    return html`\n      <slot class=\"control\" part=\"control\"></slot>\n      ${this.closable\n        ? html` <button\n            class=\"close-button fc-outline\"\n            part=\"close-button\"\n            aria-labelledby=\"close\"\n            @click=\"${this.handleClick}\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"12\"\n              height=\"12\"\n              viewBox=\"0 0 12 12\"\n              xmlns:v=\"https://vecta.io/nano\"\n            >\n              <path\n                d=\"M6.774 6l4.072-4.073c.206-.206.206-.545 0-.75l-.022-.022c-.206-.206-.544-.206-.75 0L6.002 5.233 1.93 1.154c-.206-.206-.544-.206-.75 0l-.022.022c-.211.206-.211.545 0 .75L5.23 6l-4.072 4.073c-.206.206-.206.545 0 .75l.022.022c.206.206.544.206.75 0l4.072-4.073 4.072 4.073c.206.206.544.206.75 0l.022-.022c.206-.206.206-.545 0-.75L6.774 6z\"\n                fill=\"#999\"\n              />\n            </svg>\n          </button>`\n        : ''}\n    `\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { FC } from '../fusion-component'\nimport mergeStyles from '../merge-styles'\n\nimport '../dialog'\nimport '../panel-header'\n\nimport style from './style.css'\nimport { observer } from '../decorators'\nimport { FCPanelHeader } from '../panel-header'\n\n@customElement('fc-panel')\nexport class FCPanel extends FC {\n  static styles = mergeStyles(style)\n\n  @observer({ reflect: true })\n  closable = true\n\n  @observer()\n  closeTarget = ''\n\n  @observer({ reflect: true })\n  role = 'widget'\n\n  @observer({ reflect: true })\n  hidden = false\n  protected hiddenChanged(old: boolean, next: boolean): void {\n    this.setAttribute('aria-hidden', String(next))\n    this.emit('visibleChange')\n  }\n\n  #defaultHeader?: FCPanelHeader\n\n  @observer({ initCallback: true })\n  header?: string\n  headerChanged(old: string, next: string): void {\n    if (next) {\n      const header = document.createElement('fc-panel-header') as FCPanelHeader\n      header.slot = 'panel-header'\n      header.closable = this.closable\n      header.closeTarget = this.closeTarget\n      header.innerText = next\n\n      this.#defaultHeader = header\n      this.appendChild(header)\n    } else if (this.#defaultHeader) {\n      this.#defaultHeader.remove()\n    }\n  }\n\n  render(): TemplateResult {\n    if (this.hidden) {\n      return html``\n    }\n\n    return html`\n      <slot name=\"panel-header\" part=\"panel-header\"></slot>\n      <div class=\"panel-body\" part=\"panel-body\">\n        <slot></slot>\n      </div>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-radio-group name=\\\"fruit\\\">\\n  <label slot=\\\"label\\\">水果</label>\\n  <fc-radio value=\\\"apple\\\">苹果</fc-radio>\\n  <fc-radio value=\\\"orange\\\">橘子</fc-radio>\\n  <fc-radio value=\\\"pear\\\">梨</fc-radio>\\n</fc-radio-group>\\n\\n<h4>默认值</h4>\\n<fc-radio-group name=\\\"fruit\\\" value=\\\"orange\\\">\\n  <fc-radio value=\\\"apple\\\">苹果</fc-radio>\\n  <fc-radio value=\\\"orange\\\">橘子</fc-radio>\\n  <fc-radio value=\\\"pear\\\">梨</fc-radio>\\n</fc-radio-group>\\n\\n<h4>禁用</h4>\\n<fc-radio-group name=\\\"fruit\\\" value=\\\"orange\\\" disabled>\\n  <fc-radio value=\\\"apple\\\">苹果</fc-radio>\\n  <fc-radio value=\\\"orange\\\">橘子</fc-radio>\\n  <fc-radio value=\\\"pear\\\">梨</fc-radio>\\n</fc-radio-group>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport FormAssociated from '../form-associated'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\nconst createProxyElement = () => {\n  const proxy = document.createElement('input')\n  proxy.type = 'radio'\n  return proxy\n}\n\n@customElement('fc-radio')\nexport class FCRadio extends FormAssociated {\n  static styles = mergeStyles(style)\n\n  constructor() {\n    super(createProxyElement())\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.checked = this.hasAttribute('checked')\n    this.disabled = this.hasAttribute('disabled')\n    this.defaultChecked = this.checked\n\n    onEvent(this, 'click', this.handleClick)\n  }\n\n  @observer()\n  value = 'on'\n\n  @observer({ reflect: true })\n  role = 'radio'\n\n  @observer({ reflect: true })\n  tabIndex = 0\n\n  @observer({ reflect: true })\n  name = ''\n\n  // @observer({ type: Boolean, reflect: true })\n  @observer({ reflect: true })\n  checked = false\n  protected checkedChanged(old: boolean, next: boolean): void {\n    if (this.proxy instanceof HTMLInputElement) {\n      this.proxy.checked = next\n    }\n\n    if (this.checked) {\n      this.uniqueChecked()\n      this.updateForm()\n      this.emit('change')\n    }\n  }\n\n  @observer({ type: 'boolean' })\n  defaultChecked = false\n\n  @observer({ type: 'boolean', reflect: true })\n  indeterminate = false\n\n  @observer({ type: 'boolean', reflect: true })\n  readOnly = false\n  readOnlyChanged(): void {\n    this.classList.toggle('readonly', this.readOnly)\n  }\n\n  private type = 'radio'\n\n  uniqueChecked(): void {\n    const scope = this.form || this.closest('fc-radio-group') || this.ownerDocument.body\n    const { name } = this\n    if (!scope || !name) return\n    const silbings = Array.from(scope.querySelectorAll(`fc-radio[name='${name}']`)) as FCRadio[]\n    silbings.forEach(e => {\n      if (e !== this) {\n        e.checked = false\n      }\n    })\n  }\n\n  updateForm(): void {\n    const value = this.checked ? this.value : null\n    this.setFormValue(value)\n  }\n\n  handleClick(e: MouseEvent): void {\n    if (!this.disabled && !this.readOnly && !this.checked) {\n      this.checked = true\n      this.updateForm()\n    }\n  }\n\n  render(): TemplateResult<1> {\n    return html`\n      <slot name=\"checked-indicator\">\n        <div class=\"radio control fc-inner-outline\" part=\"control\">\n          <div class=\"checked-indicator\"></div>\n        </div>\n      </slot>\n      <label class=\"label\" part=\"label\"><slot></slot></label>\n    `\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { focusFirstOrNext, onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { FCRadio } from '../radio'\nimport style from './style.css'\n\n@customElement('fc-radio-group')\nexport class FCRadioGroup extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'keydown', this.handleKeydown)\n    onEvent(this, 'change', this.handleChange)\n    this.updateComplete.then(() => {\n      this.disabled = this.hasAttribute('disabled')\n      this.value = this.getAttribute('value') || this.value\n      this.name = this.getAttribute('name') || this.name\n\n      this.items.forEach(radio => {\n        radio.checked = radio.value === this.value\n        radio.toggleAttribute('disabled', this.disabled)\n      })\n      this.reorderTabindex()\n    })\n  }\n\n  public get items(): FCRadio[] | [] {\n    return this.slottedElements.filter(o => o instanceof FCRadio) as FCRadio[]\n  }\n\n  public get length(): number {\n    return this.items.length\n  }\n\n  @observer({ type: 'boolean', reflect: true })\n  disabled = false\n  protected disabledChanged(old: boolean, next: boolean): void {\n    this.updateComplete.then(() => {\n      this.items.forEach(radio => {\n        radio.disabled = next\n      })\n    })\n  }\n\n  @observer()\n  name = ''\n  protected nameChanged(): void {\n    const { name } = this\n    this.items.forEach(radio => {\n      radio.name = name\n    })\n  }\n\n  @observer()\n  role = 'radiogroup'\n\n  @observer()\n  value = ''\n  valueChanged(old: string, next: string): void {\n    this.reorderTabindex()\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    let target: HTMLElement | undefined\n    const { key } = e\n    if (['ArrowLeft', 'ArrowUp'].includes(key)) {\n      target = focusFirstOrNext(this.items, -1)\n    } else if (['ArrowRight', 'ArrowDown'].includes(key)) {\n      target = focusFirstOrNext(this.items, 1)\n    }\n\n    if (target) {\n      e.preventDefault()\n    }\n  }\n\n  reorderTabindex(): void {\n    let includeChecked = false\n    this.items.forEach(r => {\n      const { checked } = r\n      r.tabIndex = checked ? 0 : -1\n      if (checked) includeChecked = true\n    })\n    if (!includeChecked && this.items[0]) {\n      this.items[0].tabIndex = 0\n    }\n  }\n\n  handleChange(e: Event): void {\n    if (e instanceof CustomEvent) {\n      const { target } = e\n      if (target instanceof FCRadio && target.checked) {\n        if (this.value !== target.value) {\n          this.value = target.value\n        }\n      }\n    }\n  }\n\n  render(): TemplateResult<1> {\n    return html`\n      <slot name=\"label\" part=\"label\"></slot>\n      <div class=\"control\" part=\"control\">\n        <slot></slot>\n      </div>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-radio value=\\\"apple\\\">苹果</fc-radio>\\n<fc-radio value=\\\"orange\\\">橘子</fc-radio>\\n<fc-radio value=\\\"banana\\\">香蕉</fc-radio>\\n<fc-radio value=\\\"pear\\\">梨</fc-radio>\\n\\n<h4>按 name 分组，状态互斥</h4>\\n<fc-radio name=\\\"fruit\\\" value=\\\"apple\\\">苹果</fc-radio>\\n<fc-radio name=\\\"fruit\\\" value=\\\"orange\\\">橘子</fc-radio>\\n<fc-radio name=\\\"fruit\\\" value=\\\"banana\\\">香蕉</fc-radio>\\n<fc-radio name=\\\"fruit\\\" value=\\\"pear\\\">梨</fc-radio>\\n\\n<h4>默认选中</h4>\\n<fc-radio checked>同意</fc-radio>\\n\\n<h4>禁用</h4>\\n<fc-radio disabled checked>同意</fc-radio>\\n<fc-radio disabled>同意</fc-radio>\\n\\n<h4>只读</h4>\\n<fc-radio readonly>同意</fc-radio>\\n<fc-radio readonly checked>同意</fc-radio>\\n\\n<h4>和 Form 一起使用</h4>\\n<form action=\\\"#\\\">\\n  <fc-radio name=\\\"ok\\\" checked>ok</fc-radio>\\n  <button type=\\\"submit\\\">submit</button>\\n</form>\\n\"","export default \"<h4>简单使用</h4>\\n<fc-select>\\n  <fc-list-option value=\\\"0\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"3\\\">桔子</fc-list-option>\\n</fc-select>\\n\\n<h4>设置默认值</h4>\\n<fc-select value=\\\"1\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"3\\\">桔子</fc-list-option>\\n</fc-select>\\n\\n<h4>不可用</h4>\\n<fc-select disabled value=\\\"1\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"3\\\" disabled>桔子</fc-list-option>\\n</fc-select>\\n\\n<h4>不可用选项</h4>\\n<fc-select value=\\\"1\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"3\\\" disabled>桔子</fc-list-option>\\n</fc-select>\\n\\n<h4>长列表</h4>\\n<p>试试有 <kbd>Tab</kbd> 和 <kbd>↓</kbd> <kbd>↑</kbd> <kbd>Enter</kbd></p>\\n<fc-select value=\\\"1\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">士多啤梨</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">大樹菠蘿</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">山竹</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">火龍果</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">木瓜</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">牛油果</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">西瓜</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">西柚</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">西梅</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">芒果</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">奇異果</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">枇杷</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">青檸</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">青蘋果</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">哈密瓜</fc-list-option>\\n</fc-select>\\n\\n<h4>定位</h4>\\n<fc-select value=\\\"1\\\" position=\\\"top\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"3\\\" disabled>桔子</fc-list-option>\\n</fc-select>\\n<fc-select value=\\\"1\\\" position=\\\"bottom\\\">\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"3\\\" disabled>桔子</fc-list-option>\\n</fc-select>\\n\\n<h4>空列表</h4>\\n<fc-select>\\n  <span slot=\\\"empty\\\">暂无数据</span>\\n</fc-select>\\n\\n<h4>默认展开</h4>\\n<fc-select open>\\n  <fc-list-option value=\\\"\\\">请选择</fc-list-option>\\n  <fc-list-option value=\\\"1\\\">苹果</fc-list-option>\\n  <fc-list-option value=\\\"2\\\">香蕉</fc-list-option>\\n  <fc-list-option value=\\\"3\\\">桔子</fc-list-option>\\n  <fc-list-option value=\\\"4\\\">梨</fc-list-option>\\n</fc-select>\\n\"","export default \"<h4>简单使用</h4>\\n<p style=\\\"font-size: smaller\\\">试试 <kbd>Tab</kbd> <kbd>→</kbd> <kbd>Enter</kbd></p>\\n\\n<fc-tabs>\\n  <fc-tab id=\\\"tab-fruit\\\" slot=\\\"tab\\\">水果</fc-tab>\\n  <fc-tab id=\\\"tab-vegetable\\\" slot=\\\"tab\\\">蔬菜</fc-tab>\\n  <fc-tab-panel id=\\\"panel-fruit\\\" slot=\\\"tabpanel\\\">苹果 橘子 香蕉</fc-tab-panel>\\n  <fc-tab-panel id=\\\"panel-vegetable\\\" slot=\\\"tabpanel\\\">白菜 萝卜 茄子</fc-tab-panel>\\n</fc-tabs>\\n\\n<h4>默认值</h4>\\n<fc-tabs activeid=\\\"tab-vegetable\\\">\\n  <fc-tab id=\\\"tab-fruit\\\" slot=\\\"tab\\\">水果</fc-tab>\\n  <fc-tab id=\\\"tab-vegetable\\\" slot=\\\"tab\\\">蔬菜</fc-tab>\\n  <fc-tab-panel id=\\\"panel-fruit\\\" slot=\\\"tabpanel\\\">苹果 橘子 香蕉</fc-tab-panel>\\n  <fc-tab-panel id=\\\"panel-vegetable\\\" slot=\\\"tabpanel\\\">白菜 萝卜 茄子</fc-tab-panel>\\n</fc-tabs>\\n\\n<h4>禁用</h4>\\n<fc-tabs disabled value=\\\"tab-fruit\\\">\\n  <fc-tab id=\\\"tab-fruit\\\" slot=\\\"tab\\\">水果</fc-tab>\\n  <fc-tab id=\\\"tab-vegetable\\\" slot=\\\"tab\\\">蔬菜</fc-tab>\\n  <fc-tab-panel id=\\\"panel-fruit\\\" slot=\\\"tabpanel\\\">苹果 橘子 香蕉</fc-tab-panel>\\n  <fc-tab-panel id=\\\"panel-vegetable\\\" slot=\\\"tabpanel\\\">白菜 萝卜 茄子</fc-tab-panel>\\n</fc-tabs>\\n\\n<h4>竖直排序</h4>\\n<fc-tabs direction=\\\"column\\\">\\n  <fc-tab id=\\\"tab-fruit\\\" slot=\\\"tab\\\">水果</fc-tab>\\n  <fc-tab id=\\\"tab-vegetable\\\" slot=\\\"tab\\\">蔬菜</fc-tab>\\n  <fc-tab-panel id=\\\"panel-fruit\\\" slot=\\\"tabpanel\\\">苹果 橘子 香蕉</fc-tab-panel>\\n  <fc-tab-panel id=\\\"panel-vegetable\\\" slot=\\\"tabpanel\\\">白菜 萝卜 茄子</fc-tab-panel>\\n</fc-tabs>\\n\\n<h4>before</h4>\\n<fc-tabs direction=\\\"row\\\">\\n  <div slot=\\\"before\\\">🚗</div>\\n  <fc-tab id=\\\"tab-fruit\\\" slot=\\\"tab\\\">水果</fc-tab>\\n  <fc-tab id=\\\"tab-vegetable\\\" slot=\\\"tab\\\">蔬菜</fc-tab>\\n  <fc-tab-panel id=\\\"panel-fruit\\\" slot=\\\"tabpanel\\\">苹果 橘子 香蕉</fc-tab-panel>\\n  <fc-tab-panel id=\\\"panel-vegetable\\\" slot=\\\"tabpanel\\\">白菜 萝卜 茄子</fc-tab-panel>\\n</fc-tabs>\\n<br />\\n<fc-tabs>\\n  <div slot=\\\"before\\\">🚗</div>\\n  <fc-tab id=\\\"tab-fruit\\\" slot=\\\"tab\\\">水果</fc-tab>\\n  <fc-tab id=\\\"tab-vegetable\\\" slot=\\\"tab\\\">蔬菜</fc-tab>\\n  <fc-tab-panel id=\\\"panel-fruit\\\" slot=\\\"tabpanel\\\">苹果 橘子 香蕉</fc-tab-panel>\\n  <fc-tab-panel id=\\\"panel-vegetable\\\" slot=\\\"tabpanel\\\">白菜 萝卜 茄子</fc-tab-panel>\\n</fc-tabs>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport mergeStyles from '../merge-styles'\n\nimport style from './style.css'\n\nexport const isTabPanel = (e: Element) => e instanceof FCTabPanel || e.tagName.toLowerCase() === 'fc-tab-panel'\n\n@customElement('fc-tab-panel')\nexport class FCTabPanel extends FC {\n  static styles = mergeStyles(style)\n\n  @observer({ reflect: true })\n  role = 'tabpanel'\n\n  @observer()\n  disabled = false\n\n  render(): TemplateResult<1> {\n    return html`<slot></slot>`\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\n\nimport style from './style.css'\n\nexport const isTab = (e: Element): e is FCTab => e instanceof FCTab || e.tagName.toLowerCase() === 'fc-tab'\n\n@customElement('fc-tab')\nexport class FCTab extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'click', this.handleClick)\n  }\n\n  @observer()\n  disabled = false\n\n  @observer({ reflect: true })\n  readonly = this.hasAttribute('readonly')\n\n  @observer({ reflect: true })\n  role = 'tab'\n\n  @observer({ reflect: true })\n  selected = false\n  protected selectedChanged(old: boolean, next: boolean): void {\n    if (this.selected) {\n      this.emit('select')\n    }\n  }\n\n  @observer({ reflect: true })\n  tabindex = '-1'\n\n  handleClick(e: MouseEvent): void {\n    e.preventDefault()\n    this.selected = !this.disabled\n  }\n\n  render(): TemplateResult<1> {\n    return html`<slot></slot>`\n  }\n}\n","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { focusable, focusFirstOrNext, onEvent, toggleTabIndex } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport { isTabPanel } from '../tab-panel/index'\nimport { FCTab, isTab } from '../tab/index'\nimport style from './style.css'\n\nexport * from '../tab-panel/index'\nexport * from '../tab/index'\n\n@customElement('fc-tabs')\nexport class FCTabs extends FC {\n  static styles = mergeStyles(style)\n\n  private static index = 0\n\n  constructor() {\n    super()\n\n    FCTabs.index += 1\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.tabs = Array.from(this.children).filter(isTab) as HTMLElement[]\n    this.panels = Array.from(this.children).filter(isTabPanel) as HTMLElement[]\n    this.activeid = this.getAttribute('activeid')\n\n    if (!this.activeid && this.tabs) {\n      const next = focusFirstOrNext(this.tabs, 1, false, true)\n      if (next) {\n        this.activeid = next.id\n      }\n    }\n\n    onEvent(this, 'select', this.handleSelect)\n  }\n\n  @observer({ attribute: false, init: false })\n  tabs = [] as HTMLElement[]\n  protected tabsChanged(): void {\n    this.tabs?.forEach((e, idx) => {\n      if (!e.getAttribute('id')) {\n        e.setAttribute('id', `tab-${idx}`)\n      }\n    })\n  }\n\n  @observer({ attribute: false, init: false })\n  panels = [] as HTMLElement[]\n  protected panelsChanged(): void {\n    const { index } = FCTabs\n    const { activeTab } = this\n    this.panels?.forEach((p, idx) => {\n      if (!p.getAttribute('id')) {\n        p.setAttribute('id', `panel-${index}-${idx}`)\n      }\n      const panelId = p.getAttribute('id') as string\n\n      const controlTab = this.tabs[idx]\n      if (controlTab) {\n        if (!controlTab.hasAttribute('aria-controls')) {\n          controlTab.setAttribute('aria-controls', panelId)\n        }\n        if (!p.hasAttribute('aria-labelledby')) {\n          p.setAttribute('aria-labelledby', controlTab.getAttribute('id') as string)\n        }\n\n        if (controlTab === activeTab) {\n          p.toggleAttribute('hidden', true)\n        }\n      }\n    })\n  }\n\n  @observer({ attribute: false, init: false })\n  activeTab?: Element\n  protected activeTabChanged(): void {\n    this.activeid = this.activeTab?.id || null\n\n    this.tabs.forEach(t => {\n      if (focusable(t)) {\n        t.setAttribute('tabindex', '-1')\n      }\n      t.toggleAttribute('selected', false)\n    })\n    this.panels.forEach(p => {\n      p.setAttribute('hidden', 'true')\n      p.removeAttribute('tabindex')\n    })\n\n    const { activeTab } = this\n    if (!activeTab) return\n\n    activeTab.toggleAttribute('selected', true)\n    if (focusable(activeTab)) {\n      activeTab.setAttribute('tabindex', '0')\n    }\n\n    const controlsId = activeTab.getAttribute('aria-controls')\n    const controlsPanel = this.panels.find(p => p.getAttribute('id') === controlsId)\n    if (controlsPanel) {\n      controlsPanel.removeAttribute('hidden')\n      if (focusable(activeTab)) {\n        controlsPanel.setAttribute('tabindex', '0')\n      }\n    }\n  }\n\n  @observer({ init: false })\n  activeid?: string | null = ''\n  protected activeidChanged(): void {\n    const { activeid } = this\n    this.activeTab = this.tabs.find(t => t.getAttribute('id') === activeid)\n  }\n\n  @observer({ init: false })\n  disabled = this.hasAttribute('disabled')\n  protected disabledChanged(): void {\n    if (this.disabled) {\n      this.tabs.forEach(t => t.toggleAttribute('disabled', true))\n    }\n  }\n\n  @observer({ reflect: true })\n  direction = 'row'\n  protected directionChanged(): void {\n    const { direction } = this\n    this.tabs.forEach(t => t.setAttribute('direction', direction))\n  }\n\n  handleSelect(e: Event): void {\n    const { target } = e\n    if (target instanceof FCTab && !this.disabled) {\n      e.preventDefault()\n      this.activeTab = target\n    }\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    if (!(e.target instanceof FCTab)) {\n      return\n    }\n\n    if (this.disabled) {\n      return\n    }\n\n    const NAV_KEYS = {\n      previous: 'ArrowLeft',\n      next: 'ArrowRight',\n    }\n    if (this.direction === 'column') {\n      NAV_KEYS.previous = 'ArrowUp'\n      NAV_KEYS.next = 'ArrowDown'\n    }\n\n    switch (e.key) {\n      case NAV_KEYS.previous:\n        e.preventDefault()\n        toggleTabIndex(this.tabs, -1, true)?.focus()\n        break\n      case NAV_KEYS.next:\n        e.preventDefault()\n        toggleTabIndex(this.tabs, 1, true)?.focus()\n        break\n      case 'Enter': {\n        e.preventDefault()\n        if (e.target instanceof FCTab) {\n          this.activeTab = e.target\n        }\n        break\n      }\n    }\n  }\n\n  render(): TemplateResult<1> {\n    return html`\n      <div class=\"tablist\" part=\"tablist\" role=\"tablist\" @keydown=\"${this.handleKeydown}\">\n        ${before()}\n        <slot name=\"tab\" class=\"tab\" part=\"tab\"></slot>\n        ${after()}\n      </div>\n      <div class=\"tabpanel\" part=\"tabpanel\">\n        <slot name=\"tabpanel\" class=\"tabpanel\" part=\"tabpanel\"></slot>\n      </div>\n    `\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-button id=\\\"jys-1\\\">静夜思</fc-button>\\n<fc-tooltip anchor=\\\"#jys-1\\\">李白</fc-tooltip>\\n\\n<h4>默认显示</h4>\\n<fc-button id=\\\"jys-1\\\">静夜思</fc-button>\\n<fc-tooltip anchor=\\\"#jys-1\\\" visible position=\\\"top\\\">李白</fc-tooltip>\\n\\n<h4>定位</h4>\\n<fc-button id=\\\"jys-2\\\">静夜思</fc-button> <span>right</span>\\n<fc-tooltip anchor=\\\"#jys-2\\\" position=\\\"right\\\">李白</fc-tooltip>\\n\\n<fc-button id=\\\"jys-2-left\\\">静夜思</fc-button> <span>left</span>\\n<fc-tooltip anchor=\\\"#jys-2-left\\\" position=\\\"left\\\">李白</fc-tooltip>\\n\\n<fc-button id=\\\"jys-2-top\\\">静夜思</fc-button> <span>top</span>\\n<fc-tooltip anchor=\\\"#jys-2-top\\\" position=\\\"top\\\">李白</fc-tooltip>\\n\\n<fc-button id=\\\"jys-2-bottom\\\">静夜思</fc-button> <span>bottom</span>\\n<fc-tooltip anchor=\\\"#jys-2-bottom\\\" position=\\\"bottom\\\">李白</fc-tooltip>\\n\\n<h4>间距</h4>\\n<fc-button id=\\\"jys-3-x\\\">静夜思</fc-button> <span>20px</span>\\n<fc-tooltip anchor=\\\"#jys-3-x\\\" position=\\\"right\\\" offsetX=\\\"20\\\">李白</fc-tooltip>\\n<fc-button id=\\\"jys-3-y\\\">静夜思</fc-button> <span>20px</span>\\n<fc-tooltip anchor=\\\"#jys-3-y\\\" position=\\\"bottom\\\" offsetY=\\\"20\\\">李白</fc-tooltip>\\n\\n<h4>延迟</h4>\\n<fc-button id=\\\"jys-4\\\">静夜思</fc-button> <span>1000s</span>\\n<fc-tooltip anchor=\\\"#jys-4\\\" delay=\\\"1000\\\">李白</fc-tooltip>\\n\\n<h4>一个元素多个提示</h4>\\n<div style=\\\"padding: 50px 100px; background: #444\\\">\\n  <fc-button id=\\\"anchor-1\\\">🌱🌙<br />静夜思</fc-button>\\n  <fc-tooltip anchor=\\\"#anchor-1\\\" position=\\\"left\\\"> 床前明月光</fc-tooltip>\\n  <fc-tooltip anchor=\\\"#anchor-1\\\" position=\\\"right\\\"> 疑似地上霜</fc-tooltip>\\n  <fc-tooltip anchor=\\\"#anchor-1\\\" position=\\\"top\\\"> 举头望明月</fc-tooltip>\\n  <fc-tooltip anchor=\\\"#anchor-1\\\" position=\\\"bottom\\\"> 低头思故乡</fc-tooltip>\\n</div>\\n\\n<h4>多个元素共用一个提示</h4>\\n<div style=\\\"padding: 50px 100px; background: #444\\\">\\n  <fc-button class=\\\"anchor-2\\\" position=\\\"left\\\"> 床前明月光</fc-button>\\n  <fc-button class=\\\"anchor-2\\\" position=\\\"right\\\"> 疑似地上霜</fc-button>\\n  <fc-button class=\\\"anchor-2\\\" position=\\\"top\\\"> 举头望明月</fc-button>\\n  <fc-button class=\\\"anchor-2\\\" position=\\\"bottom\\\"> 低头思故乡</fc-button>\\n  <fc-tooltip anchor=\\\".anchor-2\\\">🌱🌙<br />静夜思</fc-tooltip>\\n</div>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement, query } from 'lit/decorators.js'\nimport { observer } from '../decorators'\nimport { FC } from '../fusion-component'\nimport mergeStyles from '../merge-styles'\nimport style from './style.css'\n\n@customElement('fc-tooltip')\nexport class FCTooltip extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.anchor = this.getAttribute('anchor')\n    this.anchorElements = this.anchor ? Array.from(this.renderRoot.ownerDocument.querySelectorAll(this.anchor)) : null\n    this.anchorElements?.forEach(e => {\n      e.addEventListener('mouseenter', this.handleMouseenter)\n      e.addEventListener('mouseleave', this.handleMouseleave)\n    })\n  }\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n    this.anchorElements?.forEach(e => {\n      e.removeEventListener('mouseenter', this.handleMouseenter)\n      e.removeEventListener('mouseleave', this.handleMouseleave)\n    })\n  }\n\n  @observer({ init: false })\n  anchor?: string | null\n\n  @observer({\n    converter(v) {\n      return Math.max(0, v)\n    },\n  })\n  delay = 300\n\n  @observer()\n  offsetX = 6\n\n  @observer()\n  offsetY = 6\n\n  @observer({ reflect: true })\n  role = 'tooltip'\n\n  anchorElements?: HTMLElement[] | null\n\n  currentAnchorElement?: HTMLElement | null\n\n  #visibleTimeout?: NodeJS.Timeout\n\n  @observer()\n  visible = false\n  visibleChanged(old: boolean, next: boolean): void {\n    if (next) {\n      if (!this.currentAnchorElement && this.anchorElements?.length) {\n        this.currentAnchorElement = this.anchorElements[0]\n      }\n      const setVisibility = () => {\n        const { anchorPosition, tooltip } = this\n        if (tooltip) {\n          tooltip.style.cssText = Object.entries(anchorPosition)\n            .map(([k, v]) => `${k}:${v}px`)\n            .join(';')\n          tooltip.style.visibility = 'visible'\n        }\n        this.emit('visibleChange', { old, next })\n      }\n\n      if (this.delay > 0) {\n        this.#visibleTimeout = setTimeout(setVisibility, this.delay)\n      } else {\n        setVisibility()\n      }\n    } else if (this.#visibleTimeout) {\n      clearTimeout(this.#visibleTimeout)\n    }\n  }\n\n  @observer()\n  // @TODO auto\n  position = 'bottom'\n\n  @query('.tooltip')\n  tooltip?: HTMLElement\n\n  get anchorPosition(): { left?: number; top?: number } {\n    const { currentAnchorElement } = this\n    const tooltip = this.renderRoot.querySelector('.tooltip')\n    if (!currentAnchorElement || !tooltip) {\n      return {}\n    }\n\n    const { top, left, right, bottom, width, height } = currentAnchorElement.getBoundingClientRect()\n    const { width: tooltipWidth, height: tooltipHeight } = tooltip.getBoundingClientRect()\n    const alignLeft = left - (tooltipWidth - width) / 2\n    const alignTop = top - (tooltipHeight - height) / 2\n    const { offsetX, offsetY } = this\n\n    switch (this.position) {\n      case 'bottom':\n        return { left: alignLeft, top: bottom + offsetY }\n      case 'top':\n        return { left: alignLeft, top: top - tooltipHeight - offsetY }\n      case 'left':\n        return { left: left - tooltipWidth - offsetX, top: alignTop }\n      case 'right':\n        return { left: right + offsetX, top: alignTop }\n      default:\n        return {}\n    }\n  }\n\n  handleMouseenter = (e: MouseEvent): void => {\n    this.currentAnchorElement = e.target as HTMLElement\n    this.visible = true\n  }\n\n  handleMouseleave = (e: MouseEvent): void => {\n    this.currentAnchorElement = null\n    this.visible = false\n  }\n\n  render(): TemplateResult<1> {\n    if (this.visible) {\n      return html`\n        <div class=\"tooltip\" part=\"tooltip\" role=\"tooltip\">\n          <slot></slot>\n        </div>\n      `\n    }\n    return html``\n  }\n}\n","export default \"<h4>简单使用</h4>\\n<fc-tree-item tabindex=\\\"1\\\">苹果</fc-tree-item>\\n\\n<h4>选中</h4>\\n<fc-tree-item selected>橘子</fc-tree-item>\\n\\n<h4>禁用</h4>\\n<fc-tree-item disabled>香蕉</fc-tree-item>\\n<fc-tree-item selected disabled>香蕉</fc-tree-item>\\n\\n<h4>嵌套</h4>\\n<fc-tree-item>\\n  水果\\n  <fc-tree-item slot=\\\"item\\\">西红柿</fc-tree-item>\\n</fc-tree-item>\\n\\n<h4>无缩进</h4>\\n<fc-tree-item>\\n  <span>水果</span>\\n  <fc-tree-item indent=\\\"false\\\">苹果</fc-tree-item>\\n</fc-tree-item>\\n<fc-tree-item>西红柿</fc-tree-item>\\n\\n<h4>不可选</h4>\\n<fc-tree-item selectable=\\\"false\\\">\\n  水果(我不可选)\\n  <fc-tree-item>西红柿</fc-tree-item>\\n</fc-tree-item>\\n\\n<h4>标题可展开</h4>\\n<fc-tree-item expandable>\\n  水果(点我)\\n  <fc-tree-item slot=\\\"item\\\">西红柿</fc-tree-item>\\n</fc-tree-item>\\n\\n<h4>before</h4>\\n<fc-tree-item><span slot=\\\"before\\\">🍅</span>西红柿</fc-tree-item>\\n\\n<h4>after</h4>\\n<fc-tree-item hasChild=\\\"false\\\"><span slot=\\\"after\\\">🍅</span>西红柿</fc-tree-item>\\n\\n<h4>默认展开</h4>\\n<fc-tree-item expanded>\\n  水果(点我)\\n  <fc-tree-item slot=\\\"item\\\">西红柿</fc-tree-item>\\n</fc-tree-item>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement, eventOptions } from 'lit/decorators.js'\nimport { observer, queryAll } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { onEvent } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { after, before } from '../pattern/before-after'\nimport style from './style.css'\n\nexport const isTreeItem = (e: unknown): e is FCTreeItem =>\n  e instanceof HTMLElement && e.nodeName.toLowerCase() === 'fc-tree-item'\n\n@customElement('fc-tree-item')\nexport class FCTreeItem extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    this.setAttribute('aria-expanded', String(this.hasAttribute('expanded')))\n    onEvent(this, 'keydown', this.handleKeydown)\n  }\n\n  focusItem(focused = true): void {\n    this.toggleAttribute('focused', focused)\n    if (focused) {\n      this.focus()\n    } else {\n      this.blur()\n    }\n  }\n\n  @observer({ initCallback: true })\n  @queryAll('fc-tree-item')\n  items?: FCTreeItem[]\n  itemsChanged(old: FCTreeItem[], next: FCTreeItem[]): void {\n    next.forEach(c => {\n      c.slot = 'item'\n    })\n    this.hasChild = next.length > 0\n  }\n\n  @observer({ reflect: true })\n  role = 'treeitem'\n\n  // @observer({ reflect: true })\n  // tabIndex = -1\n\n  @observer()\n  value = ''\n\n  @observer({ reflect: true })\n  disabled = false\n\n  @observer({ reflect: true })\n  /**\n   * 点击文本不执行展开操作\n   */\n  selectable = true\n\n  @observer<FCTreeItem, boolean>({\n    reflect: true,\n    converter(v, host) {\n      return !host.disabled && v\n    },\n  })\n  selected = false\n  protected selectedChanged(old: boolean | undefined, next: boolean): void {\n    this.emit('selectionChange', { old, next })\n  }\n\n  @observer({ attribute: false, reflect: true, initCallback: true })\n  private hasChild = false\n\n  @observer({ reflect: true })\n  indent = false\n\n  @observer<FCTreeItem, boolean>({\n    reflect: true,\n    initCallback: true,\n  })\n  expanded = false\n  protected expandedChanged(old: boolean, next: boolean): void {\n    this.emit('expand')\n    this.setAttribute('aria-expanded', String(next))\n    // this.updateComplete.then(() => this.items?.[0].focus())\n  }\n\n  @observer({ reflect: true })\n  expandable = false\n\n  @observer({ reflect: true })\n  forceIcon = false\n\n  handleClickTitle(e: MouseEvent): void {\n    if (!this.disabled && !e.defaultPrevented) {\n      if (this.expandable) {\n        this.expanded = !this.expanded\n      }\n      if (this.selectable) {\n        this.selected = !this.selected\n      }\n    }\n  }\n\n  handleButtonClick(e: MouseEvent): void {\n    e.stopPropagation()\n    if (!this.disabled && !e.defaultPrevented) {\n      this.expanded = !this.expanded\n    }\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    if (e.defaultPrevented || this.disabled || e.target !== this) return\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      this.selected = !this.selected\n    }\n    if (e.key === ' ') {\n      e.preventDefault()\n      this.expanded = !this.expanded\n    }\n  }\n\n  render(): TemplateResult<1> {\n    const collapseBtn = html`\n      <svg part=\"collapse-button\" class=\"arrow-right\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m9 6-6 5.5V.5z\" fill-rule=\"evenodd\" />\n      </svg>\n    `\n    const expandBtn = html`<svg\n      viewBox=\"0 0 12 12\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      part=\"expand-button\"\n      class=\"arrow-bottom\"\n      xmlns:v=\"https://vecta.io/nano\"\n    >\n      <path d=\"M6 9L.5 3h11z\" fill-rule=\"evenodd\" />\n    </svg>`\n\n    return html`\n      ${before()}\n      ${this.hasChild\n        ? html`\n            <div role=\"button\" part=\"button\" class=\"expand-collapse-button\" @click=\"${this.handleButtonClick}\">\n              <slot name=\"expand-collapse-button\">\n                ${this.expanded\n                  ? html`<slot name=\"expand-button\">${expandBtn}</slot>`\n                  : html`<slot name=\"collapse-button\">${collapseBtn}</slot>`}\n              </slot>\n            </div>\n          `\n        : null}\n      <div class=\"content\" part=\"content\">\n        <div class=\"control fc-inner-outline\" part=\"control\" @click=\"${this.handleClickTitle}\">\n          <slot></slot>\n        </div>\n        ${this.expanded\n          ? html`<div role=\"group\" class=\"group\" part=\"group\">\n              <slot name=\"item\"></slot>\n            </div>`\n          : null}\n      </div>\n      ${after()}\n    `\n  }\n}\n","export default \"<h4>默认</h4>\\n<fc-tree-view>\\n  <fc-tree-item>\\n    <span>水果</span>\\n    <fc-tree-item><span slot=\\\"before\\\">🍎</span>苹果</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍊</span>橘子</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍌</span>香蕉</fc-tree-item>\\n  </fc-tree-item>\\n  <fc-tree-item>\\n    <span>蔬菜</span>\\n    <fc-tree-item>\\n      <span>茄果类</span>\\n      <fc-tree-item><span slot=\\\"before\\\">🍆</span>茄子</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🍅</span>西红柿</fc-tree-item>\\n      <fc-tree-item disabled><span slot=\\\"before\\\">🥒</span>黄瓜</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🎃</span>南瓜</fc-tree-item>\\n    </fc-tree-item>\\n    <fc-tree-item>\\n      <span>根茎类</span>\\n      <fc-tree-item><span slot=\\\"before\\\">🥕</span>胡萝卜</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🌽</span>玉米</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🍠</span>地瓜</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🥔</span>土豆</fc-tree-item>\\n    </fc-tree-item>\\n  </fc-tree-item>\\n  <fc-tree-item>粮油</fc-tree-item>\\n</fc-tree-view>\\n\\n<h4>默认展开</h4>\\n<fc-tree-view>\\n  <fc-tree-item expanded>\\n    <span>水果</span>\\n    <fc-tree-item><span slot=\\\"before\\\">🍎</span>苹果</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍊</span>橘子</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍌</span>香蕉</fc-tree-item>\\n  </fc-tree-item>\\n  <fc-tree-item>\\n    <span>蔬菜</span>\\n    <fc-tree-item>\\n      <span>茄果类</span>\\n      <fc-tree-item><span slot=\\\"before\\\">🍆</span>茄子</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🍅</span>西红柿</fc-tree-item>\\n      <fc-tree-item disabled><span slot=\\\"before\\\">🥒</span>黄瓜</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🎃</span>南瓜</fc-tree-item>\\n    </fc-tree-item>\\n    <fc-tree-item>\\n      <span>根茎类</span>\\n      <fc-tree-item><span slot=\\\"before\\\">🥕</span>胡萝卜</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🌽</span>玉米</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🍠</span>地瓜</fc-tree-item>\\n      <fc-tree-item><span slot=\\\"before\\\">🥔</span>土豆</fc-tree-item>\\n    </fc-tree-item>\\n  </fc-tree-item>\\n  <fc-tree-item>粮油</fc-tree-item>\\n</fc-tree-view>\\n\\n<h4>默认值</h4>\\n<fc-tree-view value=\\\"banana\\\">\\n  <fc-tree-item expanded>\\n    <span>水果</span>\\n    <fc-tree-item><span slot=\\\"before\\\">🍎</span>苹果</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍊</span>橘子</fc-tree-item>\\n    <fc-tree-item value=\\\"banana\\\"><span slot=\\\"before\\\">🍌</span>香蕉</fc-tree-item>\\n  </fc-tree-item>\\n</fc-tree-view>\\n\\n<h4>默认选中</h4>\\n<fc-tree-view>\\n  <fc-tree-item expanded>\\n    <span>水果</span>\\n    <fc-tree-item selected><span slot=\\\"before\\\">🍎</span>苹果</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍊</span>橘子</fc-tree-item>\\n    <fc-tree-item value=\\\"banana\\\"><span slot=\\\"before\\\">🍌</span>香蕉</fc-tree-item>\\n  </fc-tree-item>\\n</fc-tree-view>\\n\\n<h4>标题可展开</h4>\\n<fc-tree-view>\\n  <fc-tree-item expandable>\\n    <span>水果</span>\\n    <fc-tree-item selected><span slot=\\\"before\\\">🍎</span>苹果</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍊</span>橘子</fc-tree-item>\\n    <fc-tree-item value=\\\"banana\\\"><span slot=\\\"before\\\">🍌</span>香蕉</fc-tree-item>\\n  </fc-tree-item>\\n  <fc-tree-item readonly expandable>\\n    <span>蔬菜</span>\\n    <fc-tree-item><span slot=\\\"before\\\">🍆</span>茄子</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍅</span>西红柿</fc-tree-item>\\n    <fc-tree-item disabled><span slot=\\\"before\\\">🥒</span>黄瓜</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🎃</span>南瓜</fc-tree-item>\\n  </fc-tree-item>\\n</fc-tree-view>\\n\\n<h4>不可选</h4>\\n<fc-tree-view>\\n  <fc-tree-item expanded readonly>\\n    <span>水果(不可选)</span>\\n    <fc-tree-item selected><span slot=\\\"before\\\">🍎</span>苹果</fc-tree-item>\\n    <fc-tree-item><span slot=\\\"before\\\">🍊</span>橘子</fc-tree-item>\\n    <fc-tree-item value=\\\"banana\\\" readonly><span slot=\\\"before\\\">🍌</span>香蕉(不可选)</fc-tree-item>\\n  </fc-tree-item>\\n</fc-tree-view>\\n\"","import { html, TemplateResult } from 'lit'\nimport { customElement } from 'lit/decorators.js'\nimport { observer, queryAll } from '../decorators'\nimport { FC } from '../fusion-component'\nimport { focusFirstOrNext, onEvent, toggleTabIndex } from '../helper'\nimport mergeStyles from '../merge-styles'\nimport { FCTreeItem, isTreeItem } from '../tree-item'\nimport style from './style.css'\n\nexport const isTreeView = (e: Node): e is FCTreeView => e instanceof FCTreeView\n\n@customElement('fc-tree-view')\nexport class FCTreeView extends FC {\n  static styles = mergeStyles(style)\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    onEvent(this, 'selectionChange', this.handleSelectionChange)\n    onEvent(this, 'keydown', this.handleKeydown)\n    this.updateComplete.then(() => {\n      if (this.items?.length) {\n        toggleTabIndex(this.items, 1, false)\n      }\n    })\n  }\n\n  @queryAll('fc-tree-item')\n  items?: FCTreeItem[]\n\n  @observer({ reflect: true })\n  role = 'tree'\n\n  @observer()\n  value = ''\n  protected valueChanged(old: string | undefined, next: string): void {\n    if (!next) {\n      return\n    }\n\n    if (this.selectedItem?.value !== next) {\n      const target = this.items?.find(e => e.value === next)\n      if (!target) {\n        return\n      }\n      if (typeof old === 'string') {\n        target.toggleAttribute('selected', true)\n      } else {\n        this.updateComplete.then(() => {\n          target.toggleAttribute('selected', true)\n        })\n      }\n    }\n  }\n\n  @observer<FCTreeView, FCTreeItem>()\n  selectedItem?: FCTreeItem\n  selectedItemChanged(old?: FCTreeItem, next?: FCTreeItem): void {\n    if (old) {\n      old.selected = false\n      old.tabIndex = -1\n    }\n    if (next) {\n      next.selected = true\n      next.tabIndex = 0\n      // next.focus()\n    }\n  }\n\n  private get focusableItems(): FCTreeItem[] {\n    const items = Array.from(this.querySelectorAll<FCTreeItem>(':not([aria-expanded=\"false\"]) > fc-tree-item'))\n    return items.filter(e => !e.parentElement?.closest('[aria-expanded=\"false\"]'))\n  }\n\n  private handleSelectionChange(e: Event): void {\n    const { target } = e\n\n    if (isTreeItem(target) && target.selected) {\n      this.selectedItem = target\n    }\n  }\n\n  handleKeydown(e: KeyboardEvent): void {\n    switch (e.key) {\n      case 'ArrowDown': {\n        e.preventDefault()\n        this.focusNext(1)\n        break\n      }\n      case 'ArrowUp': {\n        e.preventDefault()\n        this.focusNext(-1)\n        break\n      }\n      case 'ArrowRight': {\n        this.#expandAndFocusNext(e)\n        break\n      }\n      case 'ArrowLeft': {\n        this.#collapseOrFocusParent(e)\n        break\n      }\n    }\n  }\n\n  focusNext(delta: number): void {\n    if (this.focusableItems) {\n      this.focus()\n      focusFirstOrNext(this.focusableItems, delta)\n    }\n  }\n\n  #expandAndFocusNext(e: KeyboardEvent): void {\n    const { target } = e\n    if (!(isTreeItem(target) && target.items?.length)) {\n      return\n    }\n\n    e.preventDefault()\n    this.focus()\n    target.expanded = true\n    target.updateComplete.then(() => {\n      target.items?.[0].focus()\n    })\n  }\n\n  #collapseOrFocusParent(e: KeyboardEvent): void {\n    const { target } = e\n    if (!isTreeItem(target)) {\n      return\n    }\n\n    e.preventDefault()\n    this.focus()\n    if (target.expanded) {\n      target.expanded = false\n      target.focusItem(true)\n    } else {\n      const { parentElement } = target\n      if (parentElement && isTreeItem(parentElement)) {\n        parentElement.focusItem(true)\n      }\n    }\n  }\n\n  render(): TemplateResult<1> {\n    return html`<slot></slot>`\n  }\n}\n","import { configure } from '@storybook/web-components';\n    /* // preview entry\nimport '/Users/hu/Developer/fusion-components/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js';\n// preview entry\nimport '/Users/hu/Developer/fusion-components/node_modules/@storybook/core-client/dist/esm/globals/globals.js'; */\n\n    import { addDecorator, addParameters, addLoader, addArgTypesEnhancer, addArgsEnhancer } from '@storybook/client-api';\n    import { logger } from '@storybook/client-logger';\n    import * as config_0 from '/@fs//Users/hu/Developer/fusion-components/node_modules/@storybook/web-components/dist/esm/client/preview/config'\nimport * as config_1 from '/@fs//Users/hu/Developer/fusion-components/node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js'\n    import * as story_0 from '/@fs//Users/hu/Developer/fusion-components/src/button/button.stories.ts'\nimport * as story_1 from '/@fs//Users/hu/Developer/fusion-components/src/checkbox/checkbox.stories.ts'\nimport * as story_2 from '/@fs//Users/hu/Developer/fusion-components/src/combobox/combobox.stories.ts'\nimport * as story_3 from '/@fs//Users/hu/Developer/fusion-components/src/data-grid/data-grid.stories.ts'\nimport * as story_4 from '/@fs//Users/hu/Developer/fusion-components/src/dialog/dialog.stories.ts'\nimport * as story_5 from '/@fs//Users/hu/Developer/fusion-components/src/dropdown/dropdown.stories.ts'\nimport * as story_6 from '/@fs//Users/hu/Developer/fusion-components/src/icon/icon.stories.ts'\nimport * as story_7 from '/@fs//Users/hu/Developer/fusion-components/src/input/input.stories.ts'\nimport * as story_8 from '/@fs//Users/hu/Developer/fusion-components/src/link/anchor.stories.ts'\nimport * as story_9 from '/@fs//Users/hu/Developer/fusion-components/src/list-option/list-option.stories.ts'\nimport * as story_10 from '/@fs//Users/hu/Developer/fusion-components/src/listbox/listbox.stories.ts'\nimport * as story_11 from '/@fs//Users/hu/Developer/fusion-components/src/menu-item/menu-item.stories.ts'\nimport * as story_12 from '/@fs//Users/hu/Developer/fusion-components/src/menu/menu.stories.ts'\nimport * as story_13 from '/@fs//Users/hu/Developer/fusion-components/src/number-field/number-field.stories.ts'\nimport * as story_14 from '/@fs//Users/hu/Developer/fusion-components/src/panel/panel.stories.ts'\nimport * as story_15 from '/@fs//Users/hu/Developer/fusion-components/src/radio-group/radio-group.stories.ts'\nimport * as story_16 from '/@fs//Users/hu/Developer/fusion-components/src/radio/radio.stories.ts'\nimport * as story_17 from '/@fs//Users/hu/Developer/fusion-components/src/select/select.stories.ts'\nimport * as story_18 from '/@fs//Users/hu/Developer/fusion-components/src/tabs/tabs.stories.ts'\nimport * as story_19 from '/@fs//Users/hu/Developer/fusion-components/src/tooltip/tooltip.stories.ts'\nimport * as story_20 from '/@fs//Users/hu/Developer/fusion-components/src/tree-item/tree-item.stories.ts'\nimport * as story_21 from '/@fs//Users/hu/Developer/fusion-components/src/tree-view/tree-view.stories.ts'\n      \n    const configs = [config_0,config_1]\n    configs.forEach(config => {\n      Object.keys(config).forEach((key) => {\n        const value = config[key];\n        switch (key) {\n          case 'args':\n          case 'argTypes': {\n            return logger.warn('Invalid args/argTypes in config, ignoring.', JSON.stringify(value));\n          }\n          case 'decorators': {\n            return value.forEach((decorator) => addDecorator(decorator, false));\n          }\n          case 'loaders': {\n            return value.forEach((loader) => addLoader(loader, false));\n          }\n          case 'parameters': {\n            return addParameters({ ...value }, false);\n          }\n          case 'argTypesEnhancers': {\n            return value.forEach((enhancer) => addArgTypesEnhancer(enhancer));\n          }\n          case 'argsEnhancers': {\n            return value.forEach((enhancer) => addArgsEnhancer(enhancer))\n          }\n          case 'globals':\n          case 'globalTypes': {\n            const v = {};\n            v[key] = value;\n            return addParameters(v, false);\n          }\n          case 'decorateStory':\n          case 'renderToDOM': {\n            return null; // This key is not handled directly in v6 mode.\n          }\n          default: {\n            // eslint-disable-next-line prefer-template\n            return console.log(key + ' was not supported :( !');\n          }\n        }\n      });\n    })\n    \n    /* TODO: not quite sure what to do with this, to fix HMR\n    if (import.meta.hot) {\n        import.meta.hot.accept();    \n    }\n    */\n    \n    configure(() => [story_0,story_1,story_2,story_3,story_4,story_5,story_6,story_7,story_8,story_9,story_10,story_11,story_12,story_13,story_14,story_15,story_16,story_17,story_18,story_19,story_20,story_21].filter(el => el.default), { hot: import.meta.hot }, false); // not sure if the import.meta.hot thing is correct"],"names":["LitElement","html","__decorateClass","css","unsafeCSS","createProxy","style","customElement","createRef","ref","__privateGet","ifDefined","radioStyle","__privateMethod","query"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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"}